'\" te
.\"  Copyright 1989 AT&T 
.\" Portions Copyright (c) 2008, 2015, Oracle and/or its affiliates.All rights reserved.
.TH ipcs 1 "2015 年 4 月 7 日" "SunOS 5.11" "用户命令"
.SH 名称
ipcs \- 报告进程间通信功能的状态
.SH 用法概要
.LP
.nf
\fBipcs\fR [\fB-aAbciJgmopqstZ\fR] [\fB-D\fR \fImtype\fR] [\fB-z\fR \fIzone\fR]
.fi

.SH 描述
.sp
.LP
\fBipcs\fR 实用程序输出关于活动的进程间通信功能的信息。显示的信息由提供的选项控制。未提供选项时，将以短格式输出系统中当前处于活动状态的消息队列、共享内存和信号的信息。
.SH 选项
.sp
.LP
支持以下选项：
.sp
.ne 2
.mk
.na
\fB\fB-m\fR\fR
.ad
.RS 6n
.rt  
列显处于活动状态的共享内存段的信息。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-q\fR\fR
.ad
.RS 6n
.rt  
列显处于活动状态的消息队列的信息。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fR
.ad
.RS 6n
.rt  
列显处于活动状态的信号的信息。
.RE

.sp
.LP
如果指定了 \fB-m\fR、\fB-q\fR 或 \fB-s\fR，则只会输出关于所指定对象的信息。如果这三个选项均未指定，则会在以下选项的控制下输出有关这三种对象的信息：
.sp
.ne 2
.mk
.na
\fB\fB-a\fR\fR
.ad
.RS 12n
.rt  
使用所有 XCU5 输出选项。（这是 \fB-b\fR、\fB-c\fR、\fB-o\fR、\fB-p\fR 和 \fB-t\fR 的缩略表示法。）
.RE

.sp
.ne 2
.mk
.na
\fB\fB-A\fR\fR
.ad
.RS 12n
.rt  
使用所有输出选项。（这是 \fB-b\fR、\fB-c\fR、\fB-g\fR、\fB-i\fR、\fB-J\fR、\fB-o\fR、\fB-p\fR 和 \fB-t\fR 的缩略表示法。）
.RE

.sp
.ne 2
.mk
.na
\fB\fB-b\fR\fR
.ad
.RS 12n
.rt  
列显有关允许的最大大小的信息：队列上的消息的最大字节数（对于消息队列）、段大小（对于共享内存）以及每个集合中的最大信号数（对于信号）。有关列表中各个列的含义，请参见下文。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-c\fR\fR
.ad
.RS 12n
.rt  
列显创建者的登录名和组名。请参见下文。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-D\fR \fImtype\fR\fR
.ad
.RS 12n
.rt  
以十六进制和 \fBASCII\fR 显示在调用 \fBipcs\fR 的用户有权读取的任何消息队列上找到的 \fImtype\fR 类型的所有消息的内容。如果 \fImtype\fR 为 \fB0\fR，则显示所有消息。如果 \fImtype\fR 为负数，则显示其类型小于或等于 \fImtype\fR 的绝对值的所有消息。（请参见 \fBmsgrcv\fR(2) 和 \fBmsgsnap\fR(2)）。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-g\fR\fR
.ad
.RS 12n
.rt  
列显共享内存段粒度相关信息。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR\fR
.ad
.RS 12n
.rt  
列显附加到共享内存段的 \fBISM\fR 的数量。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-J\fR\fR
.ad
.RS 12n
.rt  
列显创建者的项目。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-o\fR\fR
.ad
.RS 12n
.rt  
列显未完成的使用情况的信息：队列上的消息数以及队列上消息的总字节数（对于消息队列）以及附加到共享内存段的进程数。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR\fR
.ad
.RS 12n
.rt  
列显进程编号信息：发送消息的最后一个进程的进程 \fBID\fR、接收消息队列上的消息的最后一个进程的进程 \fBID\fR、正在创建的进程的进程 \fBID\fR 以及在共享内存段上附加或分离的最后一个进程的进程 \fBID\fR。请参见下文。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-t\fR\fR
.ad
.RS 12n
.rt  
列显时间信息：更改了所有功能的访问权限的上一次控制操作的时间、针对消息队列执行的上一次 \fBmsgsnd\fR(2) 和上一次 \fBmsgrcv\fR(2) 的时间、针对共享内存执行的上一次 \fBshmat\fR(2) 和上一次 \fBshmdt\fR(2) 的时间（请参见 \fBshmop\fR(2)）以及针对信号执行的上一次 \fBsemop\fR(2) 的时间。请参见下文。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-z\fR \fIzone\fR\fR
.ad
.RS 12n
.rt  
列显与指定区域关联的功能的相关信息（请参见 \fBzones\fR(5)）。zone 可以指定为名称或数字 ID。缺省行为是显示在其中执行命令的区域的相关信息。请注意，此选项仅在全局区域中执行时有效。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Z\fR\fR
.ad
.RS 12n
.rt  
在全局区域中执行时，输出所有区域的相关信息。否则，将输出在其中执行命令的区域的相关信息。输出中包括与每个功能关联的区域。
.RE

.sp
.LP
\fBipcs\fR 列出的各个列的列标题和含义如下所述。括号中的字母表示导致相应标题出现的选项，而 “全部” 则表示该标题始终出现。\fB注意：\fR这些选项只决定为每个功能提供哪些信息；它们不能决定列出哪些功能。
.sp
.ne 2
.mk
.na
\fB\fBT\fR（全部）\fR
.ad
.RS 26n
.rt  
功能类型：
.sp
.ne 2
.mk
.na
\fB\fBq\fR\fR
.ad
.RS 5n
.rt  
消息队列
.RE

.sp
.ne 2
.mk
.na
\fB\fBm\fR\fR
.ad
.RS 5n
.rt  
共享内存段
.RE

.sp
.ne 2
.mk
.na
\fB\fBs\fR\fR
.ad
.RS 5n
.rt  
信号
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fBID\fR（全部）\fR
.ad
.RS 26n
.rt  
功能入口的标识符。
.RE

.sp
.ne 2
.mk
.na
\fB\fBKEY\fR（全部）\fR
.ad
.RS 26n
.rt  
创建功能入口时用作 \fBmsgget\fR(2)、\fBsemget\fR(2) 或 \fBshmget\fR(2) 的参数的密钥。（\fB注意：\fR当某个共享内存段被移除时，该段的密钥会更改为 \fBIPC_PRIVATE\fR，直至附加到该段的所有进程都与该段分离。）
.RE

.sp
.ne 2
.mk
.na
\fB\fBMODE\fR（全部）\fR
.ad
.RS 26n
.rt  
功能访问模式和标志：模式由 11 个字符构成，其解释如下所述。前两个字符为：
.sp
.ne 2
.mk
.na
\fB\fBR\fR\fR
.ad
.RS 5n
.rt  
进程正在等待 \fBmsgrcv\fR(2)。
.RE

.sp
.ne 2
.mk
.na
\fB\fBS\fR\fR
.ad
.RS 5n
.rt  
进程正在等待 \fBmsgsnd\fR(2)。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-\fR\fR
.ad
.RS 5n
.rt  
相应的特殊标志未设置。
.RE

接下来的九个字符作为三个组（每组三个字符）进行解释。第一组是指所有者权限；接着是功能入口的用户组中其他用户的权限；最后是所有其他用户的权限。在每组中，第一个字符是指读取权限，第二个字符是指写入或修改功能入口的权限，最后一个字符当前未使用。
.sp
各种权限如下所示：
.sp
.ne 2
.mk
.na
\fB\fBr\fR\fR
.ad
.RS 5n
.rt  
授予读取权限。
.RE

.sp
.ne 2
.mk
.na
\fB\fBw\fR\fR
.ad
.RS 5n
.rt  
授予写入权限。
.RE

.sp
.ne 2
.mk
.na
\fB\fBa\fR\fR
.ad
.RS 5n
.rt  
授予修改权限。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-\fR\fR
.ad
.RS 5n
.rt  
不授予指定的权限。
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fBOWNER\fR（全部）\fR
.ad
.RS 26n
.rt  
功能入口所有者的登录名。
.RE

.sp
.ne 2
.mk
.na
\fB\fBGROUP\fR（全部）\fR
.ad
.RS 26n
.rt  
功能入口所有者所在组的组名。
.RE

.sp
.ne 2
.mk
.na
\fB\fBCREATOR\fR（a、A、c）\fR
.ad
.RS 26n
.rt  
功能入口创建者的登录名。
.RE

.sp
.ne 2
.mk
.na
\fB\fBCGROUP\fR（a、A、c）\fR
.ad
.RS 26n
.rt  
功能入口创建者所在组的组名。
.RE

.sp
.ne 2
.mk
.na
\fB\fBCBYTES\fR（a、A、o）\fR
.ad
.RS 26n
.rt  
当前位于关联的消息队列上的消息的字节数。
.RE

.sp
.ne 2
.mk
.na
\fB\fBQNUM\fR（a、A、o）\fR
.ad
.RS 26n
.rt  
当前位于关联的消息队列上的消息数。
.RE

.sp
.ne 2
.mk
.na
\fB\fBQBYTES\fR（a、A、b）\fR
.ad
.RS 26n
.rt  
当前位于关联的消息队列上的消息允许的最大字节数。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLSPID\fR（a、A、p）\fR
.ad
.RS 26n
.rt  
向关联的队列发送消息的最后一个进程的进程 \fBID\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLRPID\fR（a、A、p）\fR
.ad
.RS 26n
.rt  
从关联的队列接收消息的最后一个进程的进程 \fBID\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fBSTIME\fR（a、A、t）\fR
.ad
.RS 26n
.rt  
向关联的队列发送最后一条消息的时间。
.RE

.sp
.ne 2
.mk
.na
\fB\fBRTIME\fR（a、A、t）\fR
.ad
.RS 26n
.rt  
从关联的队列收到最后一条消息的时间。
.RE

.sp
.ne 2
.mk
.na
\fB\fBCTIME\fR（a、A、t）\fR
.ad
.RS 26n
.rt  
关联的入口的创建或更改时间。
.RE

.sp
.ne 2
.mk
.na
\fB\fBISMATTCH\fR（a、i）\fR
.ad
.RS 26n
.rt  
附加到关联的共享内存段的 \fBISM\fR 数。
.RE

.sp
.ne 2
.mk
.na
\fB\fBNATTCH\fR（a、A、o）\fR
.ad
.RS 26n
.rt  
附加到关联的共享内存段的进程数。
.RE

.sp
.ne 2
.mk
.na
\fB\fBSEGSZ\fR（a、A、b）\fR
.ad
.RS 26n
.rt  
关联的共享内存段的大小。
.RE

.sp
.ne 2
.mk
.na
\fB\fBALLOC\fR（A、g）\fR
.ad
.RS 26n
.rt  
在关联的 OSM 共享内存段的分配的字节数或 -。
.RE

.sp
.ne 2
.mk
.na
\fB\fBGRANULESZ\fR（A、g）\fR
.ad
.RS 26n
.rt  
关联的 OSM 共享内存段的分配单元或 -。
.RE

.sp
.ne 2
.mk
.na
\fB\fBCPID\fR（a、A、p）\fR
.ad
.RS 26n
.rt  
共享内存入口创建者的进程 \fBID\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLPID\fR（a、A、p）\fR
.ad
.RS 26n
.rt  
附加或分离共享内存段的最后一个进程的进程 \fBID\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fBATIME\fR（a、A、t）\fR
.ad
.RS 26n
.rt  
最后一次完成附加到关联的共享内存段这一操作的时间。
.RE

.sp
.ne 2
.mk
.na
\fB\fBDTIME\fR（a、A、t）\fR
.ad
.RS 26n
.rt  
最后一次完成与关联的共享内存段分离这一操作的时间。
.RE

.sp
.ne 2
.mk
.na
\fB\fBNSEMS\fR（a、A、b）\fR
.ad
.RS 26n
.rt  
与信号入口关联的集合中的信号数量。
.RE

.sp
.ne 2
.mk
.na
\fB\fBOTIME\fR（a、A、t）\fR
.ad
.RS 26n
.rt  
在与信号入口关联的组上最后一次完成信号操作的时间。
.RE

.sp
.ne 2
.mk
.na
\fB\fBPROJECT\fR（J、A）\fR
.ad
.RS 26n
.rt  
功能入口创建者的项目名称。
.RE

.sp
.ne 2
.mk
.na
\fB\fBZONE\fR（Z）\fR
.ad
.RS 26n
.rt  
功能与之关联的区域。
.RE

.SH 环境变量
.sp
.LP
有关影响 \fBipcs\fR 执行的以下环境变量的说明，请参见 \fBenviron\fR(5)：\fBLANG\fR、\fBLC_ALL\fR、\fBLC_CTYPE\fR、\fBLC_MESSAGES\fR 和 \fBNLSPATH\fR。
.sp
.ne 2
.mk
.na
\fB\fBTZ\fR\fR
.ad
.RS 6n
.rt  
确定由 \fBipcs\fR 写入的时间字符串的时区。
.RE

.SH 文件
.sp
.ne 2
.mk
.na
\fB\fB/etc/group\fR\fR
.ad
.RS 15n
.rt  
组名
.RE

.sp
.ne 2
.mk
.na
\fB\fB/etc/passwd\fR\fR
.ad
.RS 15n
.rt  
用户名
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/core-os
_
接口稳定性Committed（已确定）
_
标准请参见 \fBstandards\fR(5)。
.TE

.SH 另请参见
.sp
.LP
\fBipcrm\fR(1)、\fBmsgget\fR(2)、\fBmsgids\fR(2)、\fBmsgrcv\fR(2)、\fBmsgsnap\fR(2)、\fBmsgsnd\fR(2)、\fBsemget\fR(2)、\fBsemids\fR(2)、\fBsemop\fR(2)、\fBshmctl\fR(2)、\fBshmget\fR(2)、\fBshmget_osm\fR(2)、\fBshmids\fR(2)、\fBshmop\fR(2)、\fBattributes\fR(5)、\fBenviron\fR(5)、\fBstandards\fR(5)、\fBzones\fR(5)
.SH 附注
.sp
.LP
在 \fBipcs\fR 运行期间，情况可能会发生变化。只能保证它提供的信息在检索该信息时是准确的。
