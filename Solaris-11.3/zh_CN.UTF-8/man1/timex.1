'\" te
.\" Copyright (c) 1992, 2011, Oracle and/or its affiliates.All rights reserved.
.\" Copyright 1989 AT&T
.TH timex 1 "2011 年 8 月 15 日" "SunOS 5.11" "用户命令"
.SH 名称
timex \- 为命令计时；报告进程数据和系统活动
.SH 用法概要
.LP
.nf
\fBtimex\fR [\fB-o\fR] [\fB-p\fR [\fB-fhkmrt\fR]] [\fB-s\fR] \fIcommand\fR
.fi

.SH 描述
.sp
.LP
执行指定的 \fBcommand\fR 后，将以秒为单位报告执行命令经过的时间、用户时间和系统时间。还可以选择性地列出或汇总 \fBcommand\fR 及其所有子命令的进程计帐数据，并报告执行期间系统的全部活动。
.sp
.LP
\fBtimex\fR 的输出将写入标准错误。
.SH 选项
.sp
.LP
支持以下选项：
.sp
.ne 2
.mk
.na
\fB\fB-o\fR\fR
.ad
.RS 6n
.rt  
报告 \fBcommand\fR 及其所有子命令读取或写入的总块数和传输的总字符数。只有安装了进程计帐软件才能使用该选项。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR\fR
.ad
.RS 6n
.rt  
列出 \fBcommand\fR 及其所有子命令的进程计帐记录。只有安装了进程计帐软件才能使用该选项。子选项 \fBf\fR、\fBh\fR、\fBk\fR、\fBm\fR、\fBr\fR 和 \fBt\fR 可以修改报告的数据项。这些选项如下所示：
.sp
.ne 2
.mk
.na
\fB\fB-f\fR\fR
.ad
.RS 6n
.rt  
在输出中列显 \fBfork\fR(2)/\fBexec\fR(2) 标志列和系统退出状态列。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-h\fR\fR
.ad
.RS 6n
.rt  
显示进程在执行过程中使用的可用 CPU 总时间的比率，而不是平均内存大小。该“扰乱因子”计算方法为：（总 CPU 时间）/（经过的时间）。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-k\fR\fR
.ad
.RS 6n
.rt  
显示总 kcore-minutes 而不是内存大小。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-m\fR\fR
.ad
.RS 6n
.rt  
显示平均核心大小（缺省值）。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-r\fR\fR
.ad
.RS 6n
.rt  
显示 CPU 因子：用户时间/（系统时间 + 用户时间）。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-t\fR\fR
.ad
.RS 6n
.rt  
为系统和用户显示单独的 CPU 时间。始终报告读取或写入的块数和传输的字符数。
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fR
.ad
.RS 6n
.rt  
报告 \fBcommand\fR 执行期间系统发生的全部活动（不仅仅是由 \fBcommand\fR 引起的活动）。将报告 \fBsar\fR(1) 中列出的所有数据项。
.RE

.SH 示例
.LP
\fB示例 1 \fR\fBtimex\fR 的示例。
.sp
.LP
举个简单的例子：

.sp
.in +2
.nf
\fBexample% timex \fR\fB-ops\fR\fB sleep 60\fR
.fi
.in -2
.sp

.sp
.LP
任意复杂的终端会话均可通过为子 shell 计时来进行测量：

.sp
.in +2
.nf
\fBexample% timex \fR\fB-opskmt\fR\fB sh\fR
      \fIsession commands\fR
\fBEOT\fR
.fi
.in -2
.sp

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/accounting/legacy-accounting
.TE

.SH 另请参见
.sp
.LP
\fBsar\fR(1)、\fBtime\fR(1)、\fBexec\fR(2)、\fBfork\fR(2)、\fBtimes\fR(2)、\fBattributes\fR(5)
.SH 附注
.sp
.LP
由于没有进程系谱，因此将根据推理从计帐文件 \fB/var/adm/pacct\fR 中选择与 \fBcommand\fR 关联的进程记录。用户 ID、终端 ID 和执行时间段相同的后台进程将欺骗性地包含在内。
