'\" te
.\"  Copyright 1989 AT&T
.\" Copyright © 2007, Sun Microsystems, Inc. All Rights Reserved
.TH tftp 1 "2007 年 5 月 7 日" "SunOS 5.11" "用户命令"
.SH 名称
tftp \- 简单文件传输程序
.SH 用法概要
.LP
.nf
\fBtftp\fR [\fIhost\fR [\fIport\fR]]
.fi

.SH 描述
.sp
.LP
\fBtftp\fR 是 Internet \fBTFTP\fR（Trivial File Transfer Protocol，简单文件传输协议）的用户接口，用户可使用它将文件传输到远程计算机，以及从远程计算机传输文件。远程 \fIhost\fR 和可选的 \fIport\fR 可以在命令行指定，在这种情况下，\fBtftp\fR 会将 \fIhost\fR 用作将来传输文件的缺省主机，将 \fIport\fR（如果已指定）用作将来传输文件的缺省端口。请参见下文的 \fBconnect\fR 命令。
.SH 用法
.sp
.LP
一旦 \fBtftp\fR 运行，便会发出提示符 \fBtftp>\fR 并识别以下命令：
.SS "命令"
.sp
.ne 2
.mk
.na
\fB\fBconnect\fR \fIhost-name\fR [ \fIport\fR ]\fR
.ad
.sp .6
.RS 4n
设置传输文件的 \fIhost\fR 和 \fIport\fR（后者可选）。\fBTFTP\fR 协议与 \fBFTP\fR 协议不同，它并不维护传输之间的连接；因此，\fBconnect\fR 命令不会真正创建连接，而只是记住传输时使用的主机。不必使用 \fBconnect\fR 命令，可以在使用 \fBget\fR 或 \fBput\fR 命令的过程中指定远程主机。
.RE

.sp
.ne 2
.mk
.na
\fB\fBmode\fR \fItransfer-mode\fR\fR
.ad
.sp .6
.RS 4n
设置传输模式，\fItransfer-mode\fR 可以是 \fBascii\fR 或 \fBbinary\fR 之一。缺省值为 \fBascii\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fBput\fR \fIfilename\fR\fR
.ad
.br
.na
\fB\fBput\fR \fIlocalfile remotefile\fR\fR
.ad
.br
.na
\fB\fBput\fR \fIfilename1 filename2 . . . filenameN remote-directory\fR\fR
.ad
.sp .6
.RS 4n
将一个文件或一组文件传输到指定的远程文件或目录。目标有两种格式，一种是远程主机上的文件名（如果已指定主机），另一种是以下格式的字符串： 
.sp
.in +2
.nf
\fIhost\fR\fB:\fR\fIfilename\fR
.fi
.in -2

用于同时指定 \fIhost\fR 和 \fIfilename\fR。如果采用后一种格式，指定的主机将成为将来传输文件的缺省主机。如果采用远程目录格式，假定远程主机将会运行 UNIX 系统。 
.sp
\fIhost\fR 可以是主机名（请参见 \fBhosts\fR(4)），也可以是 IPv4 或 IPv6 地址字符串（请参见 \fBinet\fR(7P) 或 \fBinet6\fR(7P)）。由于 IPv6 地址已包含 \fB“:”\fR，因此使用 IPv6 地址时应该将 \fIhost\fR 用方括号括起来。否则，会将第一次出现的冒号解释为 \fIhost\fR 与 \fIfilename\fR 之间的分隔符。例如，
.sp
.in +2
.nf
[1080::8:800:200c:417A]:myfile
.fi
.in -2

仅当文件已经存在而且公共可写时才能写入文件。请参见 \fBin.tftpd\fR(1M)。
.RE

.sp
.ne 2
.mk
.na
\fB\fBget\fR \fIfilename\fR\fR
.ad
.br
.na
\fB\fBget\fR \fIremotename localname\fR\fR
.ad
.br
.na
\fB\fBget\fR \fIfilename1 filename2 filename3\fR . . . \fIfilenameN\fR\fR
.ad
.sp .6
.RS 4n
从指定的远程 \fIsources\fR 获取一个文件或一组文件（三个或更多）。\fBsource\fR 有两种格式，一种是远程主机上的文件名（如果已指定主机），另一种是以下格式的字符串： 
.sp
.in +2
.nf
\fIhost\fR\fB:\fR\fIfilename\fR
.fi
.in -2

用于同时指定主机和文件名。如果采用后一种格式，指定的最后一个主机将成为将来传输文件的缺省主机。有关指定 \fIhost\fR 的信息，请参见 \fBput\fR 命令。
.RE

.sp
.ne 2
.mk
.na
\fB\fBquit\fR\fR
.ad
.sp .6
.RS 4n
退出 \fBtftp\fR。遇到 \fBEOF\fR 也会退出。
.RE

.sp
.ne 2
.mk
.na
\fB\fBverbose\fR\fR
.ad
.sp .6
.RS 4n
切换详细模式。
.RE

.sp
.ne 2
.mk
.na
\fB\fBtrace\fR\fR
.ad
.sp .6
.RS 4n
切换包跟踪。
.RE

.sp
.ne 2
.mk
.na
\fB\fBstatus\fR\fR
.ad
.sp .6
.RS 4n
显示当前状态。
.RE

.sp
.ne 2
.mk
.na
\fB\fBrexmt\fR\fIretransmission-timeout\fR\fR
.ad
.sp .6
.RS 4n
设置每包重新传输超时值（以秒为单位）。
.RE

.sp
.ne 2
.mk
.na
\fB\fBtimeout\fR\fItotal-transmission-timeout\fR\fR
.ad
.sp .6
.RS 4n
设置传输超时总值（以秒为单位）。
.RE

.sp
.ne 2
.mk
.na
\fB\fBascii\fR\fR
.ad
.sp .6
.RS 4n
\fBmode ascii\fR 的简写形式。
.RE

.sp
.ne 2
.mk
.na
\fB\fBbinary\fR\fR
.ad
.sp .6
.RS 4n
\fBmode binary\fR 的简写形式。
.RE

.sp
.ne 2
.mk
.na
\fB\fBblksize\fR \fItransfer-blocksize\fR\fR
.ad
.sp .6
.RS 4n
要与服务器协商的传输块大小选项的值。值 \fB0\fR 表示禁用该选项的协商。
.RE

.sp
.ne 2
.mk
.na
\fB\fBsrexmt\fR \fIserver-retransmission-timeout\fR\fR
.ad
.sp .6
.RS 4n
请求服务器使用的重新传输超时选项的值。值 0 表示禁用该选项的协商。
.RE

.sp
.ne 2
.mk
.na
\fB\fBtsize\fR\fR
.ad
.sp .6
.RS 4n
将传输大小选项发送到服务器的切换命令。缺省情况下，不发送该选项。\fItransfer-mode\fR 为 \fBascii\fR 时，如果发出 \fBwrite\fR 请求，不会发送传输大小选项。
.RE

.sp
.ne 2
.mk
.na
\fB\fB? [\fR \fIcommand-name\fR . . . ]\fR
.ad
.sp .6
.RS 4n
列显帮助信息。
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性service/network/tftp
.TE

.SH 另请参见
.sp
.LP
\fBin.tftpd\fR(1M)、\fBhosts\fR(4)、\fBattributes\fR(5)、\fBinet\fR(7P)、\fBinet6\fR(7P)
.sp
.LP
由 Malkin, G. 和 Harkin, A. 合著的《\fITFTP Option Extension\fR》，RFC 2347，Internet Society 出版。1998 年 5 月。
.sp
.LP
由 Malkin, G. 和 Harkin, A. 合著的《\fITFTP Blocksize Option\fR》，RFC 2348，Internet Society 出版。1998 年 5 月。
.sp
.LP
由 Malkin, G. 和 Harkin, A. 合著的《\fITFTP Timeout Interval and Transfer Size Options\fR》，RFC 2349，Internet Society 出版。1998 年 5 月。
.sp
.LP
由 Sollins, K.R. 编著的《\fIThe TFTP Protocol (Revision 2)\fR》，RFC 1350，Network Working Group 出版。1992 年 7 月。
.SH 附注
.sp
.LP
缺省 \fItransfer-mode\fR 是 \fBascii\fR。这不同于 SunOS 4.0 和 4.3BSD 之前的系统，因此传输非 ASCII 二进制文件（例如可执行命令）时，必须执行显式操作。
.sp
.LP
由于 \fBTFTP\fR 协议中没有用户登录名或验证，因此许多远程站点以各种各样的方式限制文件访问。批准的文件访问方法特定于各个站点，因此无法在此一一论述。
.sp
.LP
使用 \fBget\fR 命令从远程主机传输多个文件时，必须指定三个或更多文件。如果指定了两个文件，第二个文件将用作本地文件。
.sp
.LP
由于缺省块大小为 \fB512\fR 个八位字节而块的计数采用 \fB16\fR 位，因此某些 \fBTFTP\fR 实现在传输大小超过 \fB33,553,919\fR 个八位字节（比 \fB32MB\fR 少 \fB513\fR 个八位字节）的文件时可能会出现问题。Solaris 实现可以传输最大为 \fB4GB\fR 的文件。
.sp
.LP
缺省情况下，Solaris \fBTFTP\fR 客户端并不启用 \fBblocksize\fR 或传输大小选项。如果对等方存在 \fB32MB\fR 的限制，与其传输文件时将 \fBblocksize\fR 选项设置为更高的值有时是很有用的解决方法。
