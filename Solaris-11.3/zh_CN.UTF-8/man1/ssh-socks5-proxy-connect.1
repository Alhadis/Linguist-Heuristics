'\" te
.\" Copyright (c) 2002, Sun Microsystems, Inc. All Rights Reserved 
.TH ssh-socks5-proxy-connect 1 "2002 年 10 月 30 日" "SunOS 5.11" "用户命令"
.SH 名称
ssh-socks5-proxy-connect \- 用于 SOCKS5 的安全 Shell 代理
.SH 用法概要
.LP
.nf
\fB/usr/lib/ssh/ssh-socks5-proxy-connect\fR 
     [\fB-h\fR \fIsocks5_proxy_host\fR] 
     [\fB-p\fR \fIsocks5_proxy_port\fR] \fIconnect_host\fR \fIconnect_port\fR
.fi

.SH 描述
.sp
.LP
针对使用 SOCKS5 (RFC 1928) 的 \fBssh\fR(1) 的代理命令。通常用于网络外部连接只允许通过 socks 网关服务器建立的情况。
.sp
.LP
该代理命令未提供任何 RFC 1928 中定义的 SOCKS5 验证机制。只可能进行匿名连接。
.SH 选项
.sp
.LP
支持以下选项：
.sp
.ne 2
.mk
.na
\fB\fB-h\fR \fIsocks5_proxy_host\fR\fR
.ad
.RS 24n
.rt  
指定通过哪个 Web 代理服务器建立连接。覆盖 \fBSOCKS5_SERVER\fR 环境变量。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR \fIsocks5_proxy_port\fR\fR
.ad
.RS 24n
.rt  
指定 Web 代理服务器在哪个端口运行。如果未指定，则假定为端口 80。覆盖 \fBSOCKS5_PORT\fR 环境变量。
.RE

.SH 操作数
.sp
.LP
支持下列操作数：
.sp
.ne 2
.mk
.na
\fB\fIsocks5_proxy_host\fR\fR
.ad
.RS 21n
.rt  
代理的主机名或 IP 地址（IPv4 或 IPv6）。
.RE

.sp
.ne 2
.mk
.na
\fB\fIsocks5_proxy_port\fR\fR
.ad
.RS 21n
.rt  
所要连接的 \fIsocks5_proxy_host\fR 上的数字端口号。
.RE

.sp
.ne 2
.mk
.na
\fB\fIconnect_host\fR\fR
.ad
.RS 21n
.rt  
socks 网关要将您的计算机连接到的远程主机的名称。
.RE

.sp
.ne 2
.mk
.na
\fB\fIconnect_port\fR\fR
.ad
.RS 21n
.rt  
socks 网关要将您的计算机连接到的 \fIconnect_host\fR 上的数字端口号。
.RE

.SH 示例
.sp
.LP
代理连接命令的建议使用方法是在 \fBssh_config\fR(4) 中配置 \fBProxyCommand\fR（请参见示例 1 和示例 2）。示例 3 显示了在运行 \fBssh\fR(1) 时如何在命令行中指定代理命令。
.LP
\fB示例 1 \fR在环境中设置代理
.sp
.LP
以下示例显示了在环境中设置代理时，如何在 \fBssh_config\fR(4) 中使用 \fBssh-socks5-proxy-connect\fR：

.sp
.in +2
.nf
\fBHost playtime.foo.com
    ProxyCommand /usr/lib/ssh/ssh-socks5-proxy-connect \e
        playtime.foo.com 22\fR
.fi
.in -2
.sp

.LP
\fB示例 2 \fR覆盖代理环境变量
.sp
.LP
以下示例显示了如何在 \fBssh_config\fR(4) 中使用 \fBssh-socks5-proxy-connect\fR 来覆盖代理环境变量（如果未设置则进行设置）：

.sp
.in +2
.nf
\fBHost playtime.foo.com
    ProxyCommand /usr/lib/ssh/ssh-socks5-proxy-connect -h socks-gw \e
        -p 1080 playtime.foo.com 22\fR
.fi
.in -2
.sp

.LP
\fB示例 3 \fR使用命令行
.sp
.LP
以下示例显示了如何在 \fBssh\fR(1) 命令行中使用 \fBssh-socks5-proxy-connect\fR：

.sp
.in +2
.nf
example$ \fBssh -o'ProxyCommand=/usr/lib/ssh/ssh-socks5-proxy-connect \e
    -h socks-gw -p 1080 playtime.foo.com 22' playtime.foo.com\fR
.fi
.in -2
.sp

.SH 环境变量
.sp
.ne 2
.mk
.na
\fB\fBSOCKS5_SERVER\fR\fR
.ad
.RS 17n
.rt  
使用 \fIsocks5_proxy_host\fR 操作数指定缺省代理主机。
.RE

.sp
.ne 2
.mk
.na
\fB\fBSOCKS5_PORT\fR\fR
.ad
.RS 17n
.rt  
使用 \fIsocks5_proxy_port\fR 操作数指定缺省代理端口。
.RE

.SH 退出状态
.sp
.LP
将返回以下退出值：
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 5n
.rt  
成功完成。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 5n
.rt  
出现错误。
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性network/ssh
_
接口稳定性Committed（已确定）
.TE

.SH 另请参见
.sp
.LP
\fBssh\fR(1)、\fBssh-http-proxy-connect\fR(1)、\fBssh_config\fR(4)、\fBattributes\fR(5) 
