'\" te
.\"  Copyright (c) 2001, Sun Microsystems, Inc. All Rights Reserved
.TH gettext 1 "2001 年 9 月 17 日" "SunOS 5.11" "用户命令"
.SH 名称
gettext \- 从消息数据库检索文本字符串
.SH 用法概要
.LP
.nf
\fBgettext\fR [\fB-d\fR \fItextdomain\fR | \fB--domain\fR=\fItextdomain\fR] 
     [\fItextdomain\fR] \fImsgid\fR
.fi

.LP
.nf
\fBgettext\fR \fB-s\fR [\fB-e\fR] [\fB-n\fR] 
     [\fB-d\fR \fItextdomain\fR | \fB--domain\fR=\fItextdomain\fR] \fImsgid\fR...
.fi

.SH 描述
.sp
.LP
\fBgettext\fR 实用程序从 \fBmsgfmt\fR(1) 生成的消息目标文件中检索与字符串 \fImsgid\fR 对应的已翻译文本字符串。如果提供了可选参数 \fItextdomain\fR，则会从该参数中派生消息目标文件名，否则会从 \fBTEXTDOMAIN\fR 环境中派生消息目标文件名。如果未指定任何域，或无法找到对应的字符串，则 \fBgettext\fR 会输出 \fImsgid\fR。
.sp
.LP
通常，\fBgettext\fR 在 \fB/usr/lib/locale/\fIlang\fR/LC_MESSAGES\fR 中查找其消息目标文件，其中 \fIlang\fR 是语言环境名称。如果已提供，\fBTEXTDOMAINDIR\fR 环境变量会将路径名组件替换为 \fIlang\fR。
.sp
.LP
此命令解释 C 语言中的转义序列（例如将 \fB\t\fR 解析为制表符 (tab)）。使用 \fB\\\fR 输出反斜杠。要一行生成一条消息，可在 \fImsgid\fR 的末尾输入 \fB\n\fR，或将此命令与 \fBprintf\fR(1) 结合使用。
.sp
.LP
与 \fB-s\fR 选项一起使用时，\fBgettext\fR 的行为与 \fBecho\fR(1) 相同。但该命令不是仅仅将其参数复制到标准输出。而是翻译在选定目录中找到的那些消息。
.SH 选项
.sp
.LP
支持以下选项：
.sp
.ne 2
.mk
.na
\fB\fB-d\fR \fItextdomain\fR\fR
.ad
.br
.na
\fB\fB--domain\fR=\fItextdomain\fR\fR
.ad
.RS 23n
.rt  
如果未将 \fItextdomain\fR 指定为操作数，则会从域 \fItextdomain\fR 中检索已翻译的消息。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-e\fR\fR
.ad
.RS 23n
.rt  
如果与 \fB-s\fR 选项一起使用，则会启用某些转义序列的扩展。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR\fR
.ad
.RS 23n
.rt  
如果与 \fB-s\fR 选项一起使用，则会隐藏结尾换行符。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fR
.ad
.RS 23n
.rt  
行为与 \fBecho\fR(1) 相同（请参见上文的“说明”部分）。如果指定了 \fB-s\fR 选项，缺省情况下，不会执行 C 语言转义序列的扩展，且一个换行符会追加到输出中。
.RE

.SH 操作数
.sp
.LP
支持下列操作数：
.sp
.ne 2
.mk
.na
\fB\fItextdomain\fR\fR
.ad
.RS 14n
.rt  
用于检索消息的域名。如果提供了此操作数，它将覆盖 \fB-d\fR 或 \fB--domain\fR 选项指定的内容。
.RE

.sp
.ne 2
.mk
.na
\fB\fImsgid\fR\fR
.ad
.RS 14n
.rt  
用来检索本地化消息的键。
.RE

.SH 环境变量
.sp
.ne 2
.mk
.na
\fB\fBLANG\fR\fR
.ad
.RS 17n
.rt  
指定语言环境名称。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLC_MESSAGES\fR\fR
.ad
.RS 17n
.rt  
指定消息语言环境，如果提供，则会覆盖消息的 \fBLANG\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fBTEXTDOMAIN\fR\fR
.ad
.RS 17n
.rt  
指定文本域名，它与不带有 \fB\&.mo\fR 后缀的消息目标文件名相同。
.RE

.sp
.ne 2
.mk
.na
\fB\fBTEXTDOMAINDIR\fR\fR
.ad
.RS 17n
.rt  
指定消息数据库的路径名。如果提供，则会替换 \fB/usr/lib/locale\fR。
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/core-os
.TE

.SH 另请参见
.sp
.LP
\fBecho\fR(1)、\fBmsgfmt\fR(1)、\fBprintf\fR(1)、\fBgettext\fR(3C)、\fBsetlocale\fR(3C)、\fBattributes\fR(5)
.SH 附注
.sp
.LP
该实用程序是库例程 \fBgettext\fR(3C) 的 shell 等效项。
