'\" te
.\" To view license terms, attribution, and copyright for OpenSSH, the default path is /var/sadm/pkg/SUNWsshdr/install/copyright. If the Solaris operating environment has been installed anywhere other than the default, modify the given path to access the file at the installed location.
.\" Portions Copyright (c) 2009, Sun Microsystems, Inc. All Rights Reserved.
.TH ssh-add 1 "2009 年 5 月 20 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
ssh-add \- 認証エージェントへの RSA または DSA アイデンティティーの追加
.SH 形式
.LP
.nf
\fBssh-add\fR [\fB-lLdDxX\fR] [\fB-t\fR \fIlife\fR] [ \fIfile\fR ]...
.fi

.SH 機能説明
.sp
.LP
\fBssh-add\fR ユーティリティーは、認証エージェント \fBssh-agent\fR(1) に \fBRSA\fR または \fBDSA\fR アイデンティティーを追加します。引数なしで実行された場合は、存在するすべてのファイル \fB$HOME/.ssh/identity\fR (RSA v1)、\fB$HOME/.ssh/id_rsa\fR (RSA v2)、および \fB$HOME/.ssh/id_dsa\fR (DSA v2) の追加を試みます。秘密鍵が複数存在する場合は、別のパスフレーズを入力し直すよう求める前に、同じパスフレーズによる各鍵の復号化を試みます。パスフレーズは、ユーザーの tty から、または \fBSSH_ASKPASS\fR (下を参照) で定義されたプログラムを実行することによって読み取られます。
.sp
.LP
認証エージェントが実行されている必要があります。
.SH オプション
.sp
.LP
サポートしているオプションは、次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB-d\fR\fR
.ad
.RS 11n
.rt  
アイデンティティーを追加するのではなく、このオプションは、エージェントからアイデンティティーを\fB削除します\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-D\fR\fR
.ad
.RS 11n
.rt  
エージェントからすべてのアイデンティティーを削除します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-l\fR\fR
.ad
.RS 11n
.rt  
現在エージェントによって表されるすべてのアイデンティティーのフィンガープリントを一覧表示します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-L\fR\fR
.ad
.RS 11n
.rt  
現在エージェントによって表されるすべてのアイデンティティーの公開鍵パラメータを一覧表示します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-t\fR \fIlife\fR\fR
.ad
.RS 11n
.rt  
エージェントにアイデンティティーを追加するときの最大の有効期間を設定します。この有効期間は秒単位で、または \fBsshd\fR(1M) で指定された時間形式で指定できます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-x\fR\fR
.ad
.RS 11n
.rt  
エージェントをパスワードでロックします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-X\fR \fR
.ad
.RS 11n
.rt  
エージェントのロックを解除します。
.RE

.SH 環境
.sp
.ne 2
.mk
.na
\fB\fBDISPLAY\fR\fR
.ad
.br
.na
\fB\fBSSH_ASKPASS\fR\fR
.ad
.RS 17n
.rt  
\fBssh-add\fR は、パスフレーズが必要な場合、自身が端末から実行されていれば現在の端末からパスフレーズを読み取ります。\fBssh-add\fR には端末が関連付けられていないが、\fBDISPLAY\fR と \fBSSH_ASKPASS\fR が設定されている場合は、\fBSSH_ASKPASS\fR で指定されたプログラムを実行し、X11 ウィンドウを開いてパスフレーズを読み取ります。これは、.Xsession やそれに関連するスクリプトから \fBssh-add\fR を呼び出す場合に特に役立ちます。システムは、\fBSSH_ASKPASS\fR のデフォルト値である \fB/usr/lib/ssh/ssh-askpass \fR が設定された状態で出荷されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fBSSH_AUTH_SOCK\fR\fR
.ad
.RS 17n
.rt  
エージェントと通信するために使用される UNIX ドメインソケットのパスを識別します。
.RE

.SH 終了ステータス
.sp
.LP
次の終了ステータスが返されます。
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 5n
.rt  
正常終了。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 5n
.rt  
エラーが発生した。
.RE

.SH ファイル
.sp
.LP
これらのファイルは、このユーザー以外のだれからも読み取り可能であってはいけません。あるファイルがほかのユーザーからアクセス可能な場合、\fBssh-add\fR はそのファイルを無視します。鍵を生成するときにパスフレーズを指定できます。そのパスフレーズは、このファイルのプライベートな部分を暗号化するために使用されます。
.sp
.LP
これらのファイルがネットワークファイルシステム上に格納されている場合は、ファイル自体で提供される保護か、またはネットワークファイルシステムのトランスポートレイヤーのどちらかによってサイトポリシーのための十分な保護が提供されていると見なされます。そうでない場合は、鍵ファイルをリムーバブルメディア上に格納するか、または関連するホスト上にローカルに格納することをお勧めします。
.sp
.LP
\fBDSA\fR および \fBRSA\fR 鍵ファイルに推奨される名前は次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB$HOME/.ssh/identity\fR\fR
.ad
.RS 28n
.rt  
プロトコルバージョン 1 の場合のユーザーの \fBRSA\fR 認証アイデンティティーが含まれます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB$HOME/.ssh/identity.pub\fR\fR
.ad
.RS 28n
.rt  
プロトコルバージョン 1 の場合のユーザーの \fBRSA\fR 認証アイデンティティーのパブリックな部分が含まれます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB$HOME/.ssh/id_dsa\fR\fR
.ad
.RS 28n
.rt  
ユーザーのプライベートな \fBDSA\fR 認証アイデンティティーが含まれます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB$HOME/.ssh/id_dsa.pub\fR\fR
.ad
.RS 28n
.rt  
ユーザーの DSA 認証アイデンティティーのパブリックな部分が含まれます。 
.RE

.sp
.ne 2
.mk
.na
\fB\fB$HOME/.ssh/id_rsa\fR\fR
.ad
.RS 28n
.rt  
ユーザーのプライベートな \fBRSA\fR 認証アイデンティティーが含まれます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB$HOME/.ssh/id_rsa.pub\fR\fR
.ad
.RS 28n
.rt  
ユーザーの \fBRSA\fR 認証アイデンティティーのパブリックな部分が含まれます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/lib/ssh/ssh-askpass\fR\fR
.ad
.RS 28n
.rt  
SSH_ASKPASS のデフォルト値が含まれます。
.RE

.SH 属性
.sp
.LP
属性についての詳細は、マニュアルページの \fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件network/ssh
_
インタフェースの安定性確実
.TE

.SH 関連項目
.sp
.LP
\fBssh\fR(1), \fBssh-agent\fR(1), \fBssh-keygen\fR(1), \fBsshd\fR(1M), \fBattributes\fR(5) 
