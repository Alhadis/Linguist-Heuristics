'\" te
.\" Copyright (c) 2008, Sun Microsystems, Inc. All Rights Reserved
.TH ctstat 1 "2009 年 6 月 16 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
ctstat \- アクティブなシステム契約の表示
.SH 形式
.LP
.nf
\fB/usr/bin/ctstat\fR [\fB-a\fR] [\fB-i\fR \fIcontractid...\fR] [\fB-t\fR \fItype...\fR] [\fB-v\fR] 
     [\fB-T\fR u | d ] [\fIinterval\fR [\fIcount\fR]]
.fi

.SH 機能説明
.sp
.LP
\fBctstat\fR ユーティリティーを使用すると、ユーザーはシステム上でアクティブな契約を監視できます。
.sp
.LP
\fB-i\fR または \fB-t\fR オプションを指定しない場合、\fBctstat\fR はシステムのすべての契約の統計を表示します。
.SH オプション
.sp
.LP
サポートしているオプションは、次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB-a\fR\fR
.ad
.sp .6
.RS 4n
状態に関係なくすべての契約が表示されます。デフォルトでは、状態が所有、継承、または孤立である契約のみが表示されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR \fIcontractid\fR...\fR
.ad
.sp .6
.RS 4n
数値の契約識別子 (\fIcontract_id\fR) によって識別される、指定された契約の要求ステータス。
.sp
このオプションは引数としてリストを受け入れます。リスト内の項目は、コンマで区切るか、引用符で囲んでコンマまたはスペースで区切ることができます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-T\fR \fBu\fR | \fBd\fR\fR
.ad
.sp .6
.RS 4n
タイムスタンプを表示します。
.sp
時間の内部表現の出力表現に \fBu\fR  を指定します。\fBtime\fR(2) を参照してください。 標準の日付フォーマットに \fBd\fR を指定します。\fBdate\fR(1) を参照してください。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-t\fR \fItype\fR...\fR
.ad
.sp .6
.RS 4n
指定されたタイプ (\fItype\fR) の契約の要求ステータス。
.sp
このオプションは引数としてリストを受け入れます。リスト内の項目は、コンマで区切るか、引用符で囲んでコンマまたはスペースで区切ることができます。
.sp
次のタイプがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fBprocess\fR\fR
.ad
.sp .6
.RS 4n
プロセス契約
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fB-v\fR\fR
.ad
.sp .6
.RS 4n
詳細情報を出力します。
.RE

.SH オペランド
.sp
.LP
次のオペランドがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fIinterval\fR\fR
.ad
.sp .6
.RS 4n
各 \fIinterval\fR 秒ごとに報告します。
.RE

.sp
.ne 2
.mk
.na
\fB\fIcount\fR\fR
.ad
.sp .6
.RS 4n
\fIcount\fR の報告のみを出力します。
.RE

.SH 出力
.sp
.LP
次に、\fBctstat\fR の報告の列見出しとその意味について説明します。
.sp
.ne 2
.mk
.na
\fBCTID\fR
.ad
.sp .6
.RS 4n
契約の契約 \fBID\fR。
.RE

.sp
.ne 2
.mk
.na
\fBZONEID\fR
.ad
.sp .6
.RS 4n
契約の作成者のゾーン ID。
.RE

.sp
.ne 2
.mk
.na
\fBTYPE\fR
.ad
.sp .6
.RS 4n
契約タイプ。
.RE

.sp
.ne 2
.mk
.na
\fBSTATE\fR
.ad
.sp .6
.RS 4n
契約の状態:
.sp
.ne 2
.mk
.na
\fBowned\fR
.ad
.sp .6
.RS 4n
契約はプロセスによって所有されています。
.RE

.sp
.ne 2
.mk
.na
\fBinherited\fR
.ad
.sp .6
.RS 4n
契約の所有者が異常終了し、契約が所有者のプロセス契約に継承されました。
.RE

.sp
.ne 2
.mk
.na
\fBorphan\fR
.ad
.sp .6
.RS 4n
契約の所有者が契約を破棄したか、契約の所有者が異常終了して契約が所有者のプロセス契約によって継承されなかったか、契約を継承したプロセス契約が所有者によって破棄されました。
.RE

.sp
.ne 2
.mk
.na
\fBdead\fR
.ad
.sp .6
.RS 4n
契約はアクティブではなくなりました。すべての参照 (オープンファイル記述子、契約テンプレート、およびイベント) が解放されると、システムから自動的に削除されます。
.RE

.RE

.sp
.ne 2
.mk
.na
\fBHOLDER\fR
.ad
.sp .6
.RS 4n
契約が \fBowned\fR 状態の場合、契約を所有するプロセスの PID。契約が \fBinherited\fR 状態の場合は、継承したプロセス契約の ID。
.RE

.sp
.ne 2
.mk
.na
\fBEVENTS\fR
.ad
.sp .6
.RS 4n
保留中の確認されていない重大なイベントの数。
.RE

.sp
.ne 2
.mk
.na
\fBQTIME\fR
.ad
.sp .6
.RS 4n
定量が終了するまでの時間、またはネゴシエーションが進行中でない場合は \fB-\fR。
.RE

.sp
.ne 2
.mk
.na
\fBNTIME\fR
.ad
.sp .6
.RS 4n
ネゴシエーションが終了するまでの時間、またはネゴシエーションが進行中でない場合は \fB-\fR。
.RE

.SH 使用例
.LP
\fB例 1 \fRシステムのすべての契約の報告
.sp
.LP
次の例は、システム内のすべての契約を報告しています。

.sp
.in +2
.nf
example% ctstat -a

CTID    TYPE    STATE   HOLDER  EVENTS  QTIME   NTIME
1       process owned   100579  0       -       -
2       process dead    -       1       -       -
3       process inherit 1       3       -       -
4       process orphan  -       0       -       -
.fi
.in -2
.sp

.LP
\fB例 2 \fRシステム内のすべての契約の詳細な報告の取得
.sp
.LP
次の例は、システムのすべての契約の詳細な報告を取得しています。

.sp
.in +2
.nf
example% ctstat -av

CTID    TYPE    STATE   HOLDER  EVENTS  QTIME   NTIME
1       process owned   100579  0       -       -
        informative event set: none
        critical event set:    hwerr core
        fatal event set:       hwerr
        parameter set:         none
        member processes:      100600 100601
        inherited ctids:       none
        service fmri:          svc:/system/init:default
        svc_fmri ctid:         1
        creator:               sched
        aux:

2       process dead    -       1       -       -
        informative event set: none
        critical event set:    none
        fatal event set:       hwerr core
        parameter set:         pgrponly
        member processes:      none
        inherited ctids:       none
        service fmri:          svc:/system/power:default
        svc_fmri ctid:         19
        creator:               svc.startd
        aux:                   start
.fi
.in -2
.sp

.SH 終了ステータス
.sp
.LP
次の終了ステータスが返されます。
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.sp .6
.RS 4n
正常終了。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.sp .6
.RS 4n
エラーが発生した。
.RE

.sp
.ne 2
.mk
.na
\fB\fB2\fR\fR
.ad
.sp .6
.RS 4n
無効な引数
.RE

.SH ファイル
.sp
.LP
\fB/system/contract/*\fR
.SH 属性
.sp
.LP
属性についての詳細は、マニュアルページの \fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
_
インタフェースの安定性下記を参照。
.TE

.sp
.LP
人間が読める形式の出力は「不確実」です。呼び出しは「確実」です。
.SH 関連項目
.sp
.LP
\fBctrun\fR(1)、\fBctwatch\fR(1)、\fBcontract\fR(4)、\fBprocess\fR(4)、\fBattributes\fR(5)
