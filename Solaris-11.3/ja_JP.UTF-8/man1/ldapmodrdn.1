'\" te
.\" Portions Copyright © 2002, Sun Microsystems, Inc. All Rights Reserved
.TH ldapmodrdn 1 "2004 年 1 月 15 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
ldapmodrdn \- LDAP エントリ RDN 変更ツール
.SH 形式
.LP
.nf
\fBldapmodrdn\fR [\fB-r\fR] [\fB-n\fR] [\fB-v\fR] [\fB-c\fR] [\fB-E\fR] [\fB-H\fR] [\fB-?\fR] [\fB-M\fR] [\fB-R\fR] 
     [\fB-Z\fR] [\fB-V\fR \fIversion\fR] [\fB-d\fR \fIdebuglevel\fR] [\fB-D\fR \fIbindDN\fR] 
     [\fB-w\fR \fIpasswd\fR] [\fB-h\fR \fIldaphost\fR] [\fB-i\fR \fIlocale\fR] [\fB-j\fR \fIfilename\fR] 
     [\fB-J\fR [:\fIcriticality\fR]] [\fB-k\fR \fIpath\fR] [\fB-N\fR \fIcertificate\fR] 
     [\fB-O\fR \fIhopLimit\fR] [\fB-P\fR \fIpath\fR] [\fB-W\fR \fIpassword\fR] [\fB-p\fR \fIldapport\fR] 
     [\fB-o\fR \fIattributename\fR=\fIvalue\fR] [\fB-f\fR \fIfile\fR] [\fB-Y\fR \fIproxyDN\fR] 
     [\fIdn\fR \fIrdn\fR]
.fi

.SH 機能説明
.sp
.LP
\fBldapmodrdn\fR は LDAP サーバーへの接続を開いてバインドし、エントリの RDN を変更します。エントリ情報は標準入力から、\fB-f\fR オプションを使用して \fBfile\fR から、または \fIdn\fR と \fIrdn\fR のコマンド行のペアから読み取られます。
.SH オプション
.sp
.ne 2
.mk
.na
\fB\fB-c\fR\fR
.ad
.sp .6
.RS 4n
継続動作モード。エラーが報告されても、ldapmodify は変更を続行します。デフォルトでは、エラーを報告したあとに終了します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-D\fR\fI bindDN\fR\fR
.ad
.sp .6
.RS 4n
識別名 \fIbinddn\fR を使用してディレクトリにバインドします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-d\fR\fI debuglevel\fR\fR
.ad
.sp .6
.RS 4n
LDAP のデバッグレベルを設定します。\fBldapmodrdn\fR に役立つ \fIdebuglevel\fR の値は次のとおりです。 
.sp
.ne 2
.mk
.na
\fB\fB1\fR \fR
.ad
.RS 8n
.rt  
トレース
.RE

.sp
.ne 2
.mk
.na
\fB\fB2\fR \fR
.ad
.RS 8n
.rt  
パケット
.RE

.sp
.ne 2
.mk
.na
\fB\fB4\fR \fR
.ad
.RS 8n
.rt  
引数
.RE

.sp
.ne 2
.mk
.na
\fB\fB32\fR \fR
.ad
.RS 8n
.rt  
フィルタ
.RE

.sp
.ne 2
.mk
.na
\fB\fB128\fR \fR
.ad
.RS 8n
.rt  
アクセス制御
.RE

複数のカテゴリのデバッグ情報を要求するには、マスクを追加します。たとえば、トレースとフィルタの情報を要求するには、33 の \fIdebuglevel\fR を指定します。 
.RE

.sp
.ne 2
.mk
.na
\fB\fB-E\fR\fR
.ad
.sp .6
.RS 4n
認証応答制御を使用してバインド識別情報を公開 (報告) するようサーバーに要求します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR\fI file\fR\fR
.ad
.sp .6
.RS 4n
標準入力またはコマンド行の代わりに \fBfile\fR からエントリ変更情報を読み取ります。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-?\fR\fR
.ad
.sp .6
.RS 4n
すべてのオプションを簡単に説明した使用法のヘルプテキストを表示します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-H\fR \fR
.ad
.sp .6
.RS 4n
すべてのオプションを簡単に説明した使用法のヘルプテキストを表示します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-h\fR \fI ldaphost\fR\fR
.ad
.sp .6
.RS 4n
LDAP サーバーが実行されている代替ホストを指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR \fIlocale\fR\fR
.ad
.sp .6
.RS 4n
\fB-f\fR \fILDIFfile\fR または標準入力で使用する文字セットを指定します。デフォルトは、\fBLANG\fR 環境変数で指定された文字セットです。このオプションを使用して、指定した文字セットから UTF8 への変換を実行し、それによって \fBLANG\fR 設定をオーバーライドすることを選択できます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-J\fR [:\fIcriticality\fR[:\fIvalue\fR|::\fIb64value\fR|\fIb64value\fR|:\fIfileurl\fR]]\fR
.ad
.sp .6
.RS 4n
criticality はブール値です (デフォルトは \fBfalse\fR)。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-j\fR \fIfilename\fR\fR
.ad
.sp .6
.RS 4n
バインド DN 用のパスワードまたは SSL クライアントの鍵データベース用のパスワードを含むファイルを指定します。パスワードを保護するには、このオプションをスクリプトで使用し、セキュリティー保護されたファイルにパスワードを保存します。このオプションは、\fB-w\fR および \fB-W\fR オプションとは相互に排他的です。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-k\fR \fIpath\fR\fR
.ad
.sp .6
.RS 4n
変換ルーチンを含むディレクトリへのパスを指定します。これらのルーチンは、ディレクトリサーバーでデフォルトではサポートされていないロケールを指定したい場合に使用されます。これは NLS のサポート用です。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-M\fR\fR
.ad
.sp .6
.RS 4n
スマートリフェラルを管理します。これらが操作のターゲットである場合は、リフェラルに従って取得されたエントリではなく、リフェラルを含むエントリを変更します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR \fR
.ad
.sp .6
.RS 4n
変更をプレビューしますが、エントリへの変更は行いません。\fB-v\fR および \fB-d\fR と組み合わせるとデバッグに役立ちます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-N\fR \fIcertificate\fR\fR
.ad
.sp .6
.RS 4n
証明書に基づくクライアント認証で使用する証明書名を指定します。たとえば、\fB-N\fR \fB"Directory-Cert"\fR と指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR\fR
.ad
.sp .6
.RS 4n
実行される処理を表示しますが、実際にはエントリを変更しません。\fB-v\fR と組み合わせるとデバッグに役立ちます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-o\fR \fIattributename\fR=\fIvalue\fR\fR
.ad
.sp .6
.RS 4n
SASL メカニズムや、セキュリティープロパティーなどのその他のオプションの場合、動作モード、認可 ID、認証 ID などを指定します。
.sp
各種の属性名とそれらの値は次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fBsecProp\fR=\fI"number"\fR\fR
.ad
.RS 20n
.rt  
SASL セキュリティープロパティーの定義用。
.RE

.sp
.ne 2
.mk
.na
\fB\fBrealm\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
SASL レルムを指定します (デフォルトは \fBrealm=none\fR)。
.RE

.sp
.ne 2
.mk
.na
\fB\fBauthzid\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
SASL バインドの認可 ID 名を指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBauthid\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
SASL バインドの認証 ID を指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBmech\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
さまざまな SASL メカニズムを指定します。
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fB-O\fR \fIhopLimit\fR\fR
.ad
.sp .6
.RS 4n
変更するエントリの検索中に従うべき参照ホップの最大数を指定します。デフォルトでは、制限はありません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-P\fR \fIpath\fR\fR
.ad
.sp .6
.RS 4n
クライアントの証明書データベースのパスとファイル名を指定します。例: 
.sp
.in +2
.nf
-P /home/uid/.netscape/cert7.db
.fi
.in -2

このコマンドをディレクトリサーバーと同じホスト上で使用している場合は、そのサーバーの独自の証明書データベースを使用できます。例: 
.sp
.in +2
.nf
-P \fIinstallDir\fR/lapd-serverID/alias/cert7.db
.fi
.in -2

サーバー認証のみを指定するには、\fB-P\fR オプションだけを使用します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR\fI ldapport\fR\fR
.ad
.sp .6
.RS 4n
セキュリティー保護された LDAP サーバーが待機している代替 TCP ポートを指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-R\fR\fR
.ad
.sp .6
.RS 4n
検索中に、返されたリフェラルに自動的には従いません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-r\fR\fR
.ad
.sp .6
.RS 4n
古い RDN 値をエントリから削除します。デフォルトでは、古い値が保持されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-V\fR \fIversion\fR\fR
.ad
.sp .6
.RS 4n
削除操作に使用される LDAP プロトコルのバージョン番号 (2 または 3 のどちらか) を指定します。LDAP v3 がデフォルトです。v3 をサポートしていないサーバーに接続しているときは、LDAP v2 を指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-v\fR\fR
.ad
.sp .6
.RS 4n
冗長モードを使用し、診断が標準出力に書き込まれるようにします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-W\fR \fIpassword\fR\fR
.ad
.sp .6
.RS 4n
\fB-P\fR オプションで指定されたクライアントの鍵データベースのパスワードを指定します。このオプションは、証明書に基づくクライアント認証では必須です。コマンド行で \fIpassword\fR を指定すると、システム上のほかのユーザーが \fBps\fR コマンドを使用してそのパスワードを表示できるため、セキュリティーの問題が発生します。ファイルからパスワードを指定するには、代わりに \fB-j\fR を使用します。このオプションは、\fB-j\fR とは相互に排他的です。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-w\fR\fI passwd\fR\fR
.ad
.sp .6
.RS 4n
ディレクトリへの認証のパスワードとして \fIpasswd\fR を使用します。認証に使用されるパスワードを指定するために \fB-w\fR \fIpasswd\fR を使用すると、システムのほかのユーザーが \fBps\fR コマンドを使用して、スクリプトファイルまたはシェルの履歴でそのパスワードを表示できるようになります。このオプションを指定せずに \fBldapmodrdn\fR コマンドを使用した場合、このコマンドはパスワードの入力を求め、それを標準入力から読み取ります。\fB-w\fR オプションを指定せずに使用されると、パスワードがほかのユーザーに表示されなくなります。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Y\fR \fIproxyid\fR\fR
.ad
.sp .6
.RS 4n
変更操作で使用するプロキシ DN (プロキシ設定された認可 ID) を、通常はシェルの二重引用符 ("") 内に指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Z\fR\fR
.ad
.sp .6
.RS 4n
証明書に基づくクライアント認証を提供するために SSL を使用することを指定します。このオプションには、\fB-N\fR と SSL パスワード、および証明書と鍵データベースを識別するためにに必要なその他のすべての SSL オプションが必要です。
.RE

.SS "入力形式"
.sp
.LP
コマンド行引数 \fIdn\fR と \fIrdn\fR が指定されている場合は、\fIrdn\fR によって、DN \fIdn\fR で指定されているエントリの RDN が置き換えられます。
.sp
.LP
それ以外の場合は、\fBfile\fR の内容 (\fB–\fR \fBf\fR オプションが指定されていない場合は標準入力) が 1 つ以上の行のペアで構成されている必要があります。
.sp
.in +2
.nf
    Distinguished Name (DN)
    Relative Distinguished Name (RDN)
.fi
.in -2
.sp

.sp
.LP
DN/RDN の各ペアを区切るには、1 行以上の空行を使用します。
.SH 使用例
.sp
.LP
ファイル \fB/tmp/entrymods\fR には、次の内容が含まれています。
.sp
.in +2
.nf
cn=Modify Me, o=XYZ, c=US
cn=The New Me
.fi
.in -2
.sp

.sp
.LP
次のコマンド
.sp
.in +2
.nf
example% ldapmodify -r -f /tmp/entrymods
.fi
.in -2
.sp

.sp
.LP
「Modify Me」エントリの RDN を「Modify Me」から「The New Me」に変更し、古い cn である「Modify Me」が削除されます。
.SH 属性
.sp
.LP
属性についての詳細は、\fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
インタフェースの安定性確実
.TE

.SH 関連項目
.sp
.LP
\fBldapadd\fR(1), \fBldapdelete\fR(1), \fBldapmodify\fR(1), \fBldapsearch\fR(1), \fBattributes\fR(5)
.SH 診断
.sp
.LP
エラーが発生しなかった場合、終了ステータスは \fB0\fR です。エラーが発生すると 0 以外の終了ステータスが生成され、診断メッセージが標準エラーに書き込まれます。
