'\" te
.\" Copyright © 1990, Regents of the University of Michigan. All Rights Reserved.
.\" Portions Copyright © 2004, Sun Microsystems, Inc. All Rights Reserved.
.TH ldapdelete 1 "2004 年 1 月 15 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
ldapdelete \- LDAP エントリ削除ツール
.SH 形式
.LP
.nf
\fBldapdelete\fR [\fB-n\fR] [\fB-v\fR] [\fB-c\fR] [\fB-d\fR \fIdebuglevel\fR] [\fB-f\fR \fIfile\fR] 
     [\fB-D\fR \fIbindDN\fR] [\fB-w\fR \fIpasswd\fR | \fB-j\fR \fIfile\fR] [\fB-J\fR [:\fIcriticality\fR]] 
     [\fB-?\fR] [\fB-H\fR] [\fB-h\fR \fIldaphost\fR] [\fB-V\fR \fIversion\fR] [\fB-i\fR \fIlocale\fR] 
     [\fB-k\fR \fIpath\fR] [\fB-P\fR \fIpath\fR] [\fB-N\fR \fIcertificate\fR] [\fB-y\fR \fIproxyid\fR] 
     [\fB-p\fR \fIldapport\fR] [\fB-O\fR \fIhoplimit\fR] [\fB-o\fR \fIattributename\fR=\fIvalue\fR] 
     [\fB-W\fR \fIpassword\fR] [\fIdn\fR]...
.fi

.SH 機能説明
.sp
.LP
\fBldapdelete\fR ユーティリティーは \fBLDAP\fR サーバーへの接続を開いてバインドし、1 つ以上のエントリを削除します。1 つ以上の \fIdn\fR 引数が指定されている場合は、それらの識別名を持つエントリが削除されます。\fIdn\fR 引数が指定されていない場合は、\fBDN\fR のリストが \fIfile\fR から (\fB-f\fR オプションが指定されている場合)、または標準入力から読み取られます。
.SH オプション
.sp
.LP
サポートしているオプションは、次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB-a\fR\fR
.ad
.sp .6
.RS 4n
分岐を削除するときに確認の質問を省略します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-c\fR\fR
.ad
.sp .6
.RS 4n
継続動作モード。エラーが報告されても、\fBldapdelete\fR は削除を続行します。デフォルトでは、エラーを報告したあとに終了します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-d\fR \fIdebuglevel\fR \fR
.ad
.sp .6
.RS 4n
\fBLDAP\fR のデバッグレベルを設定します。\fBldapdelete\fR に役立つデバッグレベルは次のとおりです。 
.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 7n
.rt  
トレース
.RE

.sp
.ne 2
.mk
.na
\fB\fB2\fR\fR
.ad
.RS 7n
.rt  
パケット
.RE

.sp
.ne 2
.mk
.na
\fB\fB4\fR\fR
.ad
.RS 7n
.rt  
引数
.RE

.sp
.ne 2
.mk
.na
\fB\fB32\fR\fR
.ad
.RS 7n
.rt  
フィルタ
.RE

.sp
.ne 2
.mk
.na
\fB\fB128\fR\fR
.ad
.RS 7n
.rt  
アクセス制御
.RE

複数のカテゴリのデバッグ情報を要求するには、マスクを追加します。たとえば、トレースとフィルタの情報を要求するには、\fB33\fR の \fIdebuglevel\fR を指定します。 
.RE

.sp
.ne 2
.mk
.na
\fB\fB-D\fR \fIbindDN\fR\fR
.ad
.sp .6
.RS 4n
識別名 \fIbindDN\fR を使用してディレクトリにバインドします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-E\fR\fR
.ad
.sp .6
.RS 4n
認証応答制御を使用してバインド識別情報を公開 (報告) するようサーバーに要求します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR \fIfile\fR\fR
.ad
.sp .6
.RS 4n
標準入力の代わりに \fIfile\fR からエントリ削除情報を読み取ります。 
.RE

.sp
.ne 2
.mk
.na
\fB\fB-?\fR\fR
.ad
.sp .6
.RS 4n
すべてのオプションを簡単に説明した使用法のヘルプテキストを表示します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-H\fR \fR
.ad
.sp .6
.RS 4n
すべてのオプションを簡単に説明した使用法のヘルプテキストを表示します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-h\fR \fIldaphost\fR\fR
.ad
.sp .6
.RS 4n
LDAP サーバーが実行されている代替ホストを指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR \fIlocale\fR\fR
.ad
.sp .6
.RS 4n
コマンド行入力で使用する文字セットを指定します。デフォルトは、\fBLANG\fR 環境変数で指定された文字セットです。このオプションを使用して、指定した文字セットから UTF8 への変換を実行し、それによって \fBLANG\fR 設定をオーバーライドすることもできます。
.sp
この引数を使用すると、バインド DN とターゲット DN を指定された文字セットに入力できます。\fBldapdelete\fR ツールは、検索要求を処理する前に、これらの引数からの入力を変換します。たとえば、\fB-i\fR \fBno\fR は、バインド DN とターゲット DN がノルウェー語で提供されていることを示します。
.sp
このオプションは、コマンド行入力にのみ影響を与えます。つまり、DN を含むファイルを指定した場合 (\fB-f\fR オプションを使用)、\fBldapdelete\fR は、そのファイル内のデータを変換しません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-j\fR \fIfilename\fR\fR
.ad
.sp .6
.RS 4n
バインド DN 用のパスワードまたは SSL クライアントの鍵データベース用のパスワードを含むファイルを指定します。パスワードを保護するには、このオプションをスクリプトで使用し、セキュリティー保護されたファイルにパスワードを保存します。このオプションは、\fB-w\fR および \fB-W\fR オプションとは相互に排他的です。\fB-j\fR オプションは、\fB-j\fR と \fB-w\fR/\fB-W\fR の中ではより安全な代替オプションです。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-J\fR [:\fIcriticality\fR[:\fIvalue\fR|::\fIb64value\fR|\fIb64value\fR|:\fIfileurl\fR]]\fR
.ad
.sp .6
.RS 4n
criticality はブール値です (デフォルトは \fBfalse\fR)。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-k\fR \fIpath\fR\fR
.ad
.sp .6
.RS 4n
変換ルーチンを含むディレクトリへのパスを指定します。これらのルーチンは、ディレクトリサーバーでデフォルトではサポートされていないロケールを指定したい場合に使用されます。これは NLS のサポート用です。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-M\fR\fR
.ad
.sp .6
.RS 4n
スマートリフェラルを管理します。これらが操作のターゲットである場合は、リフェラルに従って取得されたエントリではなく、リフェラルを含む実際のエントリを削除します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR\fR
.ad
.sp .6
.RS 4n
実行される処理を表示しますが、実際にはエントリを削除しません。オプション \fB-v\fR および \fB-d\fR と組み合わせるとデバッグに役立ちます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-N\fR \fIcertificate\fR\fR
.ad
.sp .6
.RS 4n
証明書に基づくクライアント認証で使用する証明書名を指定します。たとえば、\fB-N\fR \fB"Directory-Cert"\fR と指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-o\fR \fIattributename\fR=\fIvalue\fR\fR
.ad
.sp .6
.RS 4n
SASL メカニズムや、セキュリティープロパティーなどのその他のオプションの場合、動作モード、認可 ID、認証 ID などを指定します。
.sp
各種の属性名とそれらの値は次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fBsecProp\fR=\fI"number"\fR\fR
.ad
.RS 20n
.rt  
SASL セキュリティープロパティーの定義用。
.RE

.sp
.ne 2
.mk
.na
\fB\fBrealm\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
SASL レルムを指定します (デフォルトは \fBrealm=none\fR)。
.RE

.sp
.ne 2
.mk
.na
\fB\fBauthzid\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
SASL バインドの認可 ID 名を指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBauthid\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
SASL バインドの認証 ID を指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBmech\fR=\fI"value"\fR\fR
.ad
.RS 20n
.rt  
さまざまな SASL メカニズムを指定します。
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fB-O\fR \fIhopLimit\fR\fR
.ad
.sp .6
.RS 4n
削除するエントリの検索中に従うべきリフェラルホップの最大数を指定します。デフォルトでは、制限はありません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR \fIldapport\fR\fR
.ad
.sp .6
.RS 4n
LDAP サーバーが待機している代替 \fBTCP\fR ポートを指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-P\fR \fIpath\fR\fR
.ad
.sp .6
.RS 4n
クライアントの証明書データベースのパスとファイル名を指定します。例: 
.sp
.in +2
.nf
-P /home/uid/.netscape/cert7.db
.fi
.in -2

このコマンドをディレクトリサーバーと同じホスト上で使用している場合は、そのサーバーの独自の証明書データベースを使用できます。例: 
.sp
.in +2
.nf
-P \fIinstallDir\fR/lapd-serverID/alias/cert7.db
.fi
.in -2

サーバー認証のみを指定するには、\fB-P\fR オプションだけを使用します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-v\fR\fR
.ad
.sp .6
.RS 4n
冗長モードを使用し、診断が標準出力に書き込まれるようにします。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-V\fR \fIversion\fR\fR
.ad
.sp .6
.RS 4n
削除操作に使用される LDAP プロトコルのバージョン番号 (2 または 3 のどちらか) を指定します。LDAP v3 がデフォルトです。v3 をサポートしていないサーバーに接続しているときは、LDAP v2 を指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-W\fR \fIpassword\fR\fR
.ad
.sp .6
.RS 4n
\fB-P\fR オプションで指定されたクライアントの鍵データベースのパスワードを指定します。このオプションは、証明書に基づくクライアント認証では必須です。コマンド行で \fIpassword\fR を指定すると、システム上のほかのユーザーが \fBps\fR コマンドを使用してそのパスワードを表示できるため、セキュリティーの問題が発生します。ファイルからパスワードを指定するには、代わりに \fB-j\fR を使用します。このオプションは、\fB-j\fR とは相互に排他的です。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-w\fR \fIpasswd\fR\fR
.ad
.sp .6
.RS 4n
ディレクトリへの認証のパスワードとして \fIpasswd\fR を使用します。認証に使用されるパスワードを指定するために \fB-w\fR \fIpasswd\fR を使用すると、システムのほかのユーザーが \fBps\fR コマンドを使用して、スクリプトファイルまたはシェルの履歴でそのパスワードを表示できるようになります。このオプションを指定せずに \fBldapdelete\fR コマンドを使用した場合、このコマンドはパスワードの入力を求め、それを標準入力から読み取ります。\fB-w\fR オプションを指定せずに使用されると、パスワードがほかのユーザーに表示されなくなります。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Y\fR \fIproxyid\fR\fR
.ad
.sp .6
.RS 4n
削除操作で使用するプロキシ DN (プロキシ設定された認可 ID) を、通常はシェルの二重引用符 ("") 内に指定します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Z\fR\fR
.ad
.sp .6
.RS 4n
証明書に基づくクライアント認証を提供するために SSL を使用することを指定します。このオプションには、\fB-N\fR と SSL パスワード、および証明書と鍵データベースを識別するためにに必要なその他のすべての SSL オプションが必要です。
.RE

.SH オペランド
.sp
.LP
次のオペランドを指定できます。
.sp
.ne 2
.mk
.na
\fB\fIdn\fR\fR
.ad
.RS 6n
.rt  
削除するエントリの 1 つまたは複数の識別名を指定します。
.RE

.SH 使用例
.LP
\fB例 1 \fRエントリの削除
.sp
.LP
\fBXYZ\fR Corporation の組織エントリの真下にある commonName \fBDelete Me\fR で指定されたエントリを削除するには、次のコマンドを使用します。

.sp
.in +2
.nf
example% \fBldapdelete -D "cn=Administrator, o=XYZ, c=US" \e
  "cn=Delete Me, o=XYZ, c=US"\fR 
.fi
.in -2
.sp

.LP
\fB例 2 \fRSASL 認証を使用したエントリの削除
.sp
.LP
XYZ Corporation の組織エントリの真下にある \fBcommonName\fR「Delete Me」で指定されたエントリを削除するには、次のコマンドを使用します。

.sp
.in +2
.nf
example% \fBldapdelete -o mech=DIGEST-MD5 -o secProp=noanonymous \e
-o realm=none -o authid="dn:uid=foo,o=XYZ, c=US"  \e
"cn=Delete Me, o=XYZ, c=US"\fR
.fi
.in -2
.sp

.SH 属性
.sp
.LP
属性についての詳細は、\fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
インタフェースの安定性確実
.TE

.SH 終了ステータス
.sp
.LP
次の終了ステータスが返されます。
.sp
.ne 2
.mk
.na
\fB\fB0\fR \fR
.ad
.RS 12n
.rt  
正常終了。
.RE

.sp
.ne 2
.mk
.na
\fB0 以外\fR
.ad
.RS 12n
.rt  
エラーが発生した。診断メッセージが標準エラー出力に書き込まれます。
.RE

.SH 関連項目
.sp
.LP
\fBldapadd\fR(1), \fBldapmodify\fR(1), \fBldapmodrdn\fR(1), \fBldapsearch\fR(1), \fBldap_get_option\fR(3LDAP), \fBldap_set_option\fR(3LDAP), \fBattributes\fR(5)
.SH 注意事項
.sp
.LP
\fB-M\fR \fIauthentication\fR オプションは「廃止」です。
