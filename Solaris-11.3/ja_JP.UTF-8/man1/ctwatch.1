'\" te
.\" Copyright (c) 2004, Sun Microsystems, Inc. All Rights Reserved
.TH ctwatch 1 "2004 年 7 月 14 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
ctwatch \- 契約または契約のグループのイベントの監視
.SH 形式
.LP
.nf
\fB/usr/bin/ctwatch\fR [\fB-f\fR] [\fB-r\fR] [\fB-v\fR] \fIcontract-type\fR... | \fIcontract-id\fR...
.fi

.SH 機能説明
.sp
.LP
\fBctwatch\fR ユーティリティーを使用すると、一連の契約または契約タイプ内で発生するイベントを監視できます。デフォルトでは、\fBctwatch\fR はすべての契約を監視します。
.SH オプション
.sp
.LP
サポートしているオプションは、次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB-f\fR\fR
.ad
.RS 6n
.rt  
イベントキューの先頭からイベントを報告します。通常、\fBctwatch\fR は自身が呼び出されたあとに発生したイベントのみを報告します。\fB-f\fR オプションを指定すると、\fBctwatch\fR が呼び出されたときに契約のイベントキューにまだ存在しているイベント (たとえば、確認されていない重大なイベント) も報告されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-r\fR\fR
.ad
.RS 6n
.rt  
すべてのメッセージを確実に監視します。通常、システムは情報イベントおよび確認済みの重大なイベントを随時削除することがあるため、\fBctwatch\fR ではそれらすべてが表示されることは保証されません。実効セットで \fB{PRIV_CONTRACT_EVENT} \fR 特権が表明されて \fBctwatch\fR が呼び出された場合にのみ、このオプションを使用できます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-v\fR\fR
.ad
.RS 6n
.rt  
詳細なイベントの説明を要求します。
.RE

.SH オペランド
.sp
.LP
次のオペランドがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fIcontract-type\fR\fR
.ad
.RS 17n
.rt  
有効な契約タイプは次のとおりです。
.sp
.ne 2
.mk
.na
\fBprocess\fR
.ad
.RS 11n
.rt  
プロセス契約。
.RE

.RE

.sp
.ne 2
.mk
.na
\fB\fIcontract-id\fR\fR
.ad
.RS 17n
.rt  
有効な契約ID。
.RE

.SH 出力
.sp
.LP
次に、\fBctwatch\fR の報告の列見出しとその意味について説明します。
.sp
.ne 2
.mk
.na
\fBCTID\fR
.ad
.RS 11n
.rt  
イベントが生成された契約 \fBID\fR。
.RE

.sp
.ne 2
.mk
.na
\fBEVID\fR
.ad
.RS 11n
.rt  
イベント \fBID\fR。
.RE

.sp
.ne 2
.mk
.na
\fBCRIT\fR
.ad
.RS 11n
.rt  
イベントが情報と重大のいずれであるか、あるいは終了ネゴシエーションが開始されるかどうか。値はそれぞれ \fBinfo\fR、\fBcrit\fR、または \fBneg\fR です。
.RE

.sp
.ne 2
.mk
.na
\fBACK\fR
.ad
.RS 11n
.rt  
イベントが確認されました。値は \fByes\fR または「\fBno\fR」です。
.RE

.sp
.ne 2
.mk
.na
\fBCTTYPE\fR
.ad
.RS 11n
.rt  
契約タイプ。
.RE

.sp
.ne 2
.mk
.na
\fBSUMMARY\fR
.ad
.RS 11n
.rt  
タイプごとのイベントのサマリー。
.RE

.SH 使用例
.LP
\fB例 1 \fRプロセス契約の監視
.sp
.in +2
.nf
example% \fBctwatch -r 1\fR

CTID    EVID    CRIT ACK CTTYPE  SUMMARY
1       2       crit no  process pid 100569 was created
1       3       info no  process pid 100569 encountered hardware error
1       4       info no  process pid 100568 exited
1       5       info no  process pid 100569 exited
1       6       crit no  process contract empty
.fi
.in -2
.sp

.SH 終了ステータス
.sp
.LP
次の終了ステータスが返されます。
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 5n
.rt  
正常終了。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 5n
.rt  
エラーが発生した。
.RE

.sp
.ne 2
.mk
.na
\fB\fB2\fR\fR
.ad
.RS 5n
.rt  
無効な引数
.RE

.SH ファイル
.sp
.LP
\fB/system/contract/*\fR
.SH 属性
.sp
.LP
属性についての詳細は、マニュアルページの \fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
_
インタフェースの安定性下記を参照。
.TE

.sp
.LP
人間が読める形式の出力は「不確実」です。呼び出しは「確実」です。
.SH 関連項目
.sp
.LP
\fBctrun\fR(1)、\fBctstat\fR(1)、\fBcontract\fR(4)、\fBprocess\fR(4)、\fBattributes\fR(5)、\fBprivileges\fR(5)
.SH 注意事項
.sp
.LP
タイプを指定した場合、イベントの順序は単一の契約または単一のタイプ内でのみ保証されます。
.sp
.LP
実効セットで \fB{PRIV_CONTRACT_OBSERVER}\fR 特権が表明されている場合を除き、\fBctwatch\fR は \fBctwatch\fR と同じ実効ユーザー ID のプロセスが所有または作成した契約によって生成されたイベントのみを監視できます。
