'\" te
'\" te

.\"
.\" Copyright (c) 2013, Oracle and/or its affiliates. All rights reserved.
.\"
.\" -*- nroff -*-
.\"
.TH IBV_REGISTER_SM_EVENTS 3 2012-08-08 libibverbs "Libibverbs Programmer's Manual"
.SH "NAME"
ibv_register_sm_events, ibv_unregister_sm_events \- registers or unregisters
the specified subnet events for the specified GID(s).
.sp
.SH "SYNOPSIS"
.nf
.B #include <infiniband/verbs.h>
.sp
.BI "int ibv_register_sm_events(struct ibv_context *context,
.BI "ibv_sm_event_type_t event, int gid_num, union ibv_gid *gids)
.sp
.BI "int ibv_unregister_sm_events(struct ibv_context *context,
.BI "ibv_sm_event_type_t event, int gid_num, union ibv_gid *gids)
.if
.TP
.B context:\fR Device context
.TP
.B event:\fR
Logical OR of events to register for, valid values are:
.TP
.in +5
.B IBV_SM_EVENT_MGID
.in -5
.in +15
.B Request notification of Multicast GID events
.in -15
.TP
.in +5
.B IBV_SM_EVENT_UGID
.in -5
.in +15
.B Request notification of Unicast GID events
.in -15
.TP
.in +5
.B IBV_SM_EVENT_UGID_ALL
.in -5
.in +15
.B Request notification of ALL Unicast GID events
.in -15
.TP
.in +5
.B IBV_SM_EVENT_MGID_ALL
.in -5
.in +15
.B Request notification of ALL Multicast GID events
.in -15
.TP
.in +5
.B IBV_SM_EVENT_ALL
.in -5
.in +15
.B Request notification of ALL Multicast and Unicast GID events
.in -15
.TP
.B gid_num:
0 or the number of gids in the array of gids pointed to by gids.
.TP
.B gids:
NULL, or an array of GIDS.
.sp
.SH "DESCRIPTION"
.B ibv_register_sm_events()
registers for the specified subnet events for the specified GID(s).
ibv_unregister_sm_events() unregisters for the specified subnet events
for the specified GID(s). These events are delivered on the async fd
(see ibv_get_async_event(3)), from a previously opened device (see
ibv_open_device()). It is only necessary to call ibv_register_sm_events()
on a single device connected to each unique fabric, partition. For
example, if a node has 4 HCAs attached to the same fabric, with all
ports in the same partition, then it is only necessary to call
ibv_register_sm_events() on one of them.
.sp
.TP
.B The following ibv_event_type events can be passed to
ibv_register_sm_events():
.TP
.in +5
.B IBV_EVENT_MCG_CREATED
.in -5
.in +12
An MCG specified by the new "gid" member of the ibv_async_event
struct has been created. 
.in -12
.TP
.in +5
.B IBV_EVENT_MCG_DELETED
.in -5
.in +12
The MCG specified by the "gid" member of the ibv_async_event struct
has been deleted. 
.in -12
.TP
.in +5
.B IBV_EVENT_GID_AVAIL
.in -5
.in +12
The GID specified by the "gid" member of the ibv_async_event struct
is available on this subnet.
.in -12
.TP
.in +5
.B IBV_EVENT_GID_UNAVAIL
.in -5
.in +12
The GID specified by the "gid" member of the ibv_async_event struct
is no longer available on this subnet.
.in -12
.sp
.SH "RETURN VALUE"
.B ibv_register_sm_events(), ibv_unregister_sm_events()
returns 0 on success, and \-1 on error.

.\" Oracle has added the ARC stability level to this manual page
.SH ATTRIBUTES
See
.BR attributes (5)
for descriptions of the following attributes:
.sp
.TS
box;
cbp-1 | cbp-1
l | l .
ATTRIBUTE TYPE	ATTRIBUTE VALUE 
=
Availability	network/open-fabrics
=
Stability	Volatile
.TE 
.PP
.SH "NOTES"
.TP


.\" Oracle has added source availability information to this manual page
This software was built from source available at https://java.net/projects/solaris-userland.  The original community source was downloaded from  ['http://www.openfabrics.org/downloads/ibutils/ibutils-1.5.7.tar.gz', 'http://www.openfabrics.org/downloads/libibverbs/libibverbs-1.1.4-1.22.g7257cd3.tar.gz', 'http://www.openfabrics.org/downloads/libmlx4/libmlx4-1.0.1-1.18.gb810a27.tar.gz', 'http://www.openfabrics.org/downloads/libsdp/libsdp-1.1.108-0.15.gd7fdb72.tar.gz', 'http://www.openfabrics.org/downloads/management/infiniband-diags-1.5.8.tar.gz', 'http://www.openfabrics.org/downloads/management/libibmad-1.3.7.tar.gz', 'http://www.openfabrics.org/downloads/management/libibumad-1.3.7.tar.gz', 'http://www.openfabrics.org/downloads/management/opensm-3.3.9.tar.gz', 'http://www.openfabrics.org/downloads/perftest/perftest-1.3.0-0.42.gf350d3d.tar.gz', 'http://www.openfabrics.org/downloads/qperf/qperf-0.4.6-0.1.gb81434e.tar.gz', 'http://www.openfabrics.org/downloads/rdmacm/librdmacm-1.0.14.1.tar.gz', 'http://www.openfabrics.org/downloads/rds-tools/rds-tools-2.0.4.tar.gz']

Further information about this software can be found on the open source community website at http://www.openfabrics.org/.
