'\" te
.\"  Copyright (c) 2000, Sun Microsystems, Inc. All Rights Reserved.
.TH lastcomm 1 "2000 年 1 月 10 日" "SunOS 5.11" "用户命令"
.SH 名称
lastcomm \- 以反序显示最近执行的命令
.SH 用法概要
.LP
.nf
\fBlastcomm\fR [\fB-f\fR \fIfile\fR] [\fB-x\fR] [\fIcommand-name\fR] ... [\fIuser-name\fR] ... 
     [\fIterminal-name\fR] ...
.fi

.SH 描述
.sp
.LP
\fBlastcomm\fR 命令提供关于之前所执行命令的信息。没有参数的 \fBlastcomm\fR 显示关于在当前记帐文件的生命周期所记录的所有命令的信息。如果使用参数调用，则 \fBlastcomm\fR 仅显示带有匹配 \fIcommand-name\fR、\fIuser-name\fR 或 \fIterminal-name\fR 的记帐条目。如果扩展的进程记帐为活动状态（请参见 \fBacctadm\fR(1M)）且正在记录相应的数据项目，则 \fBlastcomm\fR 会尝试采用当前扩展进程记帐文件中的数据。如果标准进程记帐为活动状态，则 \fBlastcomm\fR 会采用当前标准记帐文件中的数据（请参见 \fBacct\fR(2)）。
.sp
.LP
如果 \fIterminal-name\fR 是 "\fB- -\fR"，则进程没有控制 \fBTTY\fR。进程可能已在引导时执行。如果 \fIterminal-name\fR 是 "\fB??\fR"，则无法将控制 \fBTTY\fR 解码到可输出名称。
.sp
.LP
对于每个进程条目，\fBlastcomm\fR 显示以下信息条目：
.RS +4
.TP
.ie t \(bu
.el o
进程在其下调用的命令名称。
.RE
.RS +4
.TP
.ie t \(bu
.el o
表示关于进程的特殊信息的一个或多个标志。这些标志具有以下含义： 
.RS

.sp
.ne 2
.mk
.na
\fB\fBF\fR\fR
.ad
.RS 5n
.rt  
进程执行了 \fBfork\fR，而不是 \fBexec\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fBS\fR\fR
.ad
.RS 5n
.rt  
进程作为 set-user-id 程序运行。
.RE

.RE

.RE
.RS +4
.TP
.ie t \(bu
.el o
运行进程的用户的名称。
.RE
.RS +4
.TP
.ie t \(bu
.el o
进程在某时间登录的终端（如适用）。
.RE
.RS +4
.TP
.ie t \(bu
.el o
进程所使用的 \fBCPU\fR 时间量（以秒为单位）。
.RE
.RS +4
.TP
.ie t \(bu
.el o
进程退出的日期和时间。
.RE
.SH 选项
.sp
.LP
支持以下选项：
.sp
.ne 2
.mk
.na
\fB\fB-f\fR \fIfile\fR\fR
.ad
.RS 11n
.rt  
使用 \fIfile\fR 作为记帐数据源。\fIfile\fR 可能为扩展进程记帐文件或标准进程记帐文件。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-x\fR\fR
.ad
.RS 11n
.rt  
使用当前处于活动状态的扩展进程记帐文件。如果扩展进程记帐为非活动状态，则不会产生输出。
.RE

.SH 示例
.LP
\fB示例 1 \fR列出所执行的指定命令
.sp
.LP
以下命令

.sp
.in +2
.nf
example% \fBlastcomm a.out root term/01\fR
.fi
.in -2
.sp

.sp
.LP
生成使用终端 \fBterm/01\fR 时用户 \fBroot\fR 命名为 \fBa.out\fR 的所有命令执行情况列表。

.LP
\fB示例 2 \fR列出所有用户命令
.sp
.LP
以下命令

.sp
.in +2
.nf
example% \fBlastcomm root\fR
.fi
.in -2
.sp

.sp
.LP
生成由用户 \fBroot\fR 所执行的所有命令的列表。

.SH 文件
.sp
.ne 2
.mk
.na
\fB\fB/var/adm/pacct\fR\fR
.ad
.RS 24n
.rt  
标准记帐文件
.RE

.sp
.ne 2
.mk
.na
\fB\fB/var/adm/exacct/proc\fR\fR
.ad
.RS 24n
.rt  
扩展记帐文件
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/core-os
.TE

.SH 另请参见
.sp
.LP
\fBlast\fR(1)、\fBacctadm\fR(1M)、\fBacct\fR(2)、\fBacct.h\fR(3HEAD)、\fBcore\fR(4)、\fBattributes\fR(5)
