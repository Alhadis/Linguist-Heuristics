'\" te
.\"  Copyright 1989 AT&T Copyright (c) 1992, Sun Microsystems, Inc. All Rights Reserved
.TH ckitem 1 "1992 年 9 月 14 日" "SunOS 5.11" "用户命令"
.SH 名称
ckitem, erritem, helpitem \- 构建菜单；提示选择并返回菜单项
.SH 用法概要
.LP
.nf
\fBckitem\fR [\fB-Q\fR] [\fB-W\fR \fIwidth\fR] [\fB-uno\fR] [\fB-f\fR \fIfilename\fR] [\fB-l\fR \fIlabel\fR] 
     [ [\fB-i\fR \fIinvis\fR] [,]...] [\fB-m\fR \fImax\fR] [\fB-d\fR \fIdefault\fR] [\fB-h\fR \fIhelp\fR] 
     [\fB-e\fR \fI error\fR] [\fB-p\fR \fIprompt\fR] [\fB-k\fR \fIpid\fR [\fB-s\fR \fIsignal\fR]] 
     [\fIchoice\fR [...]]
.fi

.LP
.nf
\fB/usr/sadm/bin/erritem\fR [\fB-W\fR \fIwidth\fR] [\fB-e\fR \fIerror\fR] [\fIchoice\fR [..]]
.fi

.LP
.nf
\fB/usr/sadm/bin/helpitem\fR [\fB-W\fR \fIwidth\fR] [\fB-h\fR \fIhelp\fR] [\fIchoice\fR [..]]
.fi

.SH 描述
.sp
.LP
\fBckitem\fR 实用程序可构建菜单，并提示用户从项目菜单中选择一项。然后，它将验证回复。该命令的选项作用之一是定义回复为菜单项的提示消息、帮助和错误消息的文本以及缺省值（用户按回车时返回）。
.sp
.LP
缺省情况下，菜单已经设置了格式，每一项前面有一个数字，在终端列显时以多列的形式列显。列长度由所选最长的项目决定。项目按字母顺序排列。
.sp
.LP
所有消息的长度均不得超过 70 个字符，消息格式将自动设置。定义中使用的任何空格（包括换行符）都将除去。使用 \fB-W\fR 选项可以取消自动格式设置。如果在消息定义开头或结尾输入波浪号，将在该位置插入缺省文本，这样便可同时显示定制文本和缺省文本。
.sp
.LP
如果未定义提示、帮助或错误消息，将显示缺省消息（如\fB\fR“附注”部分所定义）。
.sp
.LP
有两个可视化工具模块与 \fBckitem\fR 命令关联。分别是 \fBerritem\fR（用于错误消息的格式设置和显示）和 \fBhelpitem\fR（用于帮助消息的格式设置和显示）。这些模块应该与 \fBFML\fR 对象一起使用。在这种情况下，\fBFML\fR 对象将定义提示。如果在这些模块中定义了 \fIchoice\fR，则消息将说明可用的菜单选项（或多项）。
.SH 选项
.sp
.LP
支持以下选项：
.sp
.ne 2
.mk
.na
\fB\fB-d\fR\fI default\fR\fR
.ad
.RS 15n
.rt  
将缺省值定义为 \fIdefault\fR。缺省值不进行验证，因此无需符合任何条件。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-e\fR\fI error\fR\fR
.ad
.RS 15n
.rt  
将错误消息定义为 \fIerror\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR\fI filename\fR\fR
.ad
.RS 15n
.rt  
定义一个文件 \fIfilename\fR，使其包含要显示的菜单项的列表。（该文件的格式为：\fBtoken<tab>description\fR。以井号 (#) 开头的行指定为注释，将忽略。）
.RE

.sp
.ne 2
.mk
.na
\fB\fB-h\fR\fI help\fR\fR
.ad
.RS 15n
.rt  
将帮助消息定义为 \fIhelp\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR\fI invis\fR\fR
.ad
.RS 15n
.rt  
定义不可见的菜单选项（不会在菜单中列显的选项）。（例如，"all" 用作不可见选项表示它是一个合法选项，但是不会显示在菜单中。可以定义任意数量的不可见选项。）应该在提示或帮助消息中告知用户不可见选项。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-k\fR\fI pid\fR\fR
.ad
.RS 15n
.rt  
指定如果用户选择异常中止，将向进程 \fBID\fR \fIpid\fR 发送信号。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-l\fR\fI label\fR\fR
.ad
.RS 15n
.rt  
定义要列显在菜单上方的标签 \fIlabel\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-m\fR\fI max\fR\fR
.ad
.RS 15n
.rt  
定义用户可选择的菜单选项的最大数量。缺省值为 1。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR\fR
.ad
.RS 15n
.rt  
指定菜单项不能按字母顺序显示。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-o\fR\fR
.ad
.RS 15n
.rt  
指定将只返回一个菜单令牌。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR\fI prompt\fR\fR
.ad
.RS 15n
.rt  
将提示消息定义为 \fIprompt\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Q\fR\fR
.ad
.RS 15n
.rt  
指定不允许退出作为有效的响应。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fI signal\fR\fR
.ad
.RS 15n
.rt  
指定如果选择退出，将向使用 \fB-k\fR 选项定义的进程 \fBID\fR \fIpid\fR 发送信号 \fIsignal\fR。如果未指定信号，将使用 \fBSIGTERM\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-u\fR\fR
.ad
.RS 15n
.rt  
指定菜单项应该显示为无编号列表。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-W\fR\fI width\fR\fR
.ad
.RS 15n
.rt  
指定提示、帮助和错误消息的格式设置：行长度为 \fIwidth\fR。
.RE

.SH 操作数
.sp
.LP
支持下列操作数：
.sp
.ne 2
.mk
.na
\fB\fIchoice\fR\fR
.ad
.RS 10n
.rt  
定义菜单项。项目应该以空格或换行符分隔。
.RE

.SH 退出状态
.sp
.LP
将返回以下退出值：
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 5n
.rt  
成功执行。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 5n
.rt  
输入中出现 \fBEOF\fR、\fB-W\fR 选项中的宽度为负数、使用 \fB-f\fR 选项时无法打开文件或者用法错误。
.RE

.sp
.ne 2
.mk
.na
\fB\fB3\fR\fR
.ad
.RS 5n
.rt  
用户终止（退出）。
.RE

.sp
.ne 2
.mk
.na
\fB\fB4\fR\fR
.ad
.RS 5n
.rt  
无选项可供选择。
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/core-os
.TE

.SH 另请参见
.sp
.LP
\fBattributes\fR(5)
.SH 附注
.sp
.LP
如果选项要进行编号或者项目的唯一标识需要的字符串过多，用户可以输入菜单项的数量。长菜单将分页，每页 10 项。
.sp
.LP
如果在文件（使用 \fB-f\fR 选项）和命令行中都定义了菜单条目，通常按字母顺序将其合并。但是，如果使用 \fB-n\fR 选项禁止按字母顺序排序，则首先显示在文件中定义的条目，然后显示在命令行中定义的选项。
.sp
.LP
\fBckitem\fR 的缺省提示为：
.sp
.in +2
.nf
Enter selection [?,??,q]:
.fi
.in -2
.sp

.sp
.LP
如果选择一个问号，将显示一条帮助消息，然后重新显示提示。如果选择两个问号，将显示一条帮助消息，然后重新显示菜单标签、菜单和提示。
.sp
.LP
如果键入数字，缺省错误消息为：
.sp
.in +2
.nf
ERROR: Bad numeric choice specification
.fi
.in -2
.sp

.sp
.LP
如果键入字符串，缺省错误消息为：
.sp
.in +2
.nf
ERROR: Entry does not match available menu selection. Enter the number
of the menu item you wish to select, the token which is associated
with the menu item, or a partial string which uniquely identifies the
token for the menu item. Enter ?? to reprint the menu.
.fi
.in -2
.sp

.sp
.LP
缺省帮助消息为：
.sp
.in +2
.nf
Enter the number of the menu item you wish to select, the token
which is associated with the menu item, or a partial string which
uniquely identifies the token for the menu item. Enter ? to
reprint the menu.
.fi
.in -2
.sp

.sp
.LP
如果选择了退出选项（并且经过允许），将返回 \fBq\fR 以及返回代码 \fB3\fR。
