'\" te
.\" Copyright (c) 2009, 2011, Oracle and/or its affiliates.All rights reserved.
.\" Copyright 1989 AT&T
.\" Portions Copyright (c) 1982-2007 AT&T Knowledge Ventures
.TH typeset 1 "2011 年 7 月 12 日" "SunOS 5.11" "用户命令"
.SH 名称
typeset, whence \- 用于设置/获取 shell 变量和函数的属性和值的 shell 内置函数
.SH 用法概要
.LP
.nf
\fBtypeset\fR [ -CDHLRZfilrtux [\fIn\fR]] [\fIname\fR[=\fIvalue\fR]]...
.fi

.LP
.nf
\fBwhence\fR [\fB-pv\fR] \fIname\fR...
.fi

.SH 描述
.sp
.LP
\fBtypeset\fR 可设置 shell 变量和函数的属性和值。在函数内部调用 \fBtypeset\fR 时，会创建变量 \fIname\fR 的新实例。当函数完成时，将恢复变量\fI值\fR和类型\fB\fR。支持以下一系列属性：
.sp
.ne 2
.mk
.na
\fB\fB-C\fR\fR
.ad
.RS 6n
.rt  
复合变量。每个名称是一个复合变量。如果 \fIvalue\fR 指定了一个复合变量，则会将其复制到 \fIname\fR。否则，如果该变量已经存在，首先为其取消设置。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-D\fR\fR
.ad
.RS 6n
.rt  
保留以供将来使用。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-H\fR\fR
.ad
.RS 6n
.rt  
提供 UNIX 到非 UNIX 计算机上主机名文件的映射。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-L\fR\fR
.ad
.RS 6n
.rt  
向左对齐，删除值的前导空格。如果 \fIn\fR 为\fB非零\fR，则定义字段宽度。否则根据第一个赋值的值的宽度确定字段宽度。如果为此变量赋值，则会根据需要使用空格填充此值的右侧或者截断此值，使其适合此字段。如果同时设置了 \fB-Z\fR 标志，则删除前导零。禁用 \fB-R\fR 标志。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-R\fR\fR
.ad
.RS 6n
.rt  
向右调整，并使用前导空格填充。如果 \fIn\fR 为\fB非零\fR，则定义字段宽度。否则，字段宽度由第一个赋值的值的宽度决定。如果重新为此变量赋值，则会使用空格填充此字段的左侧，或者截断此字段的末尾。禁用 \fB-L\fR 标志。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-Z\fR\fR
.ad
.RS 6n
.rt  
如果第一个非空字符为数字，并且未设置 \fB-L\fR 标志，则向右对齐，并以前导零填充。如果 \fIn\fR 为\fB非零\fR，则定义字段宽度。否则根据第一个赋值的值的宽度确定字段宽度。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR\fR
.ad
.RS 6n
.rt  
所有大写字符都将转换为小写字符。禁用大写字母标志 \fB-u\fR。
.sp
搜索 \fBFPATH\fR 变量，以便在引用函数时查找函数定义。\fB-x\fR 标志允许函数定义在通过名称调用的 shell 过程之间仍然有效。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR\fR
.ad
.RS 6n
.rt  
参数为整数。这将加快算术运算速度。如果 \fIn\fR 为\fB非零\fR，则定义输出算术基数。否则，第一个赋值将决定输出基数。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-l\fR\fR
.ad
.RS 6n
.rt  
所有大写字符都将转换为小写字符。禁用大写字母标志 \fB-u\fR。 
.RE

.sp
.ne 2
.mk
.na
\fB\fB-m\fR\fR
.ad
.RS 6n
.rt  
移动。属性值是其值移至名称的变量的名称。原始变量未设置。不能与其他任何选项同时使用。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-r\fR\fR
.ad
.RS 6n
.rt  
将指定的名称标记为只读，后续赋值无法更改这些名称。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-t\fR\fR
.ad
.RS 6n
.rt  
标记变量。用户可以定义标记，对 shell 而言，这些标记没有任何特殊意义。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-u\fR\fR
.ad
.RS 6n
.rt  
所有小写字符都将转换为大写字符。禁用小写字母标志 \fB-l\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-x\fR\fR
.ad
.RS 6n
.rt  
将指定的名称标记为自动导出到后续执行的命令的环境中。
.RE

.sp
.LP
\fBi\fR 属性不能与 \fB-R\fR、\fB-L\fR、\fB-Z\fR 或 \fB-f\fR 一起指定。
.sp
.LP
使用 \fB+\fR 而非 \fB-\fR 将导致禁用这些标志。如果未指定名称参数但是指定了标志，将输出设置了这些标志的变量的名称和值（后者可选）的列表。使用 \fB+\fR 而非 \fB-\fR 将阻止输出值。如果未指定名称和标志，将输出所有变量的名称和属性。
.sp
.LP
对于每个名称，whence 表示将其用作命令名称时如何对其进行解释。
.sp
.LP
\fB-v\fR 标志会生成更详细的报告。
.sp
.LP
即使 \fIname\fR 为别名、函数或保留字，\fB-p\fR 标志也会针对 \fIname\fR 进行路径搜索。  
.sp
.LP
在本手册页中，前面有一个或两个 \fB*\fR（星号）的 \fBksh\fR(1) 命令按以下方式特殊处理：
.RS +4
.TP
1.
命令完成时，该命令前面的变量赋值列表仍然有效。
.RE
.RS +4
.TP
2.
在变量赋值之后处理 I/O 重定向。
.RE
.RS +4
.TP
3.
脚本中包含的错误会导致其中止。
.RE
.RS +4
.TP
4.
如果字的后面是前面加有 \fB**\fR 的命令且字为变量赋值的格式，则使用与变量赋值相同的规则扩展这些字。这表示在 \fB=\fR 符号之后执行波浪号替换，并且不执行字拆分和文件名生成。
.RE
.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/core-os
.TE

.SH 另请参见
.sp
.LP
\fBksh\fR(1)、\fBksh88\fR(1)、\fBset\fR(1)、\fBsh\fR(1)、\fBattributes\fR(5)
