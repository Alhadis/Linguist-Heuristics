'\" te
.\"  Copyright 1989 AT&T
.\" Copyright © 2005, Sun Microsystems, Inc. All Rights Reserved
.TH keylogin 1 "2009 年 12 月 10 日" "SunOS 5.11" "用户命令"
.SH 名称
keylogin \- 使用 keyserv 解密和存储密钥
.SH 用法概要
.LP
.nf
\fB/usr/bin/keylogin\fR [\fB-r\fR]
.fi

.SH 描述
.sp
.LP
\fBkeylogin\fR 命令会提示输入口令，并使用它解密用户的密钥。密钥可在 \fB/etc/publickey\fR 文件（请参见 \fBpublickey\fR(4)）或用户的主域中的 NIS 映射 "publickey.byname" 中找到。源及其查找顺序是在 \fB/etc/nsswitch.conf\fR 文件中指定的。请参见 \fBnsswitch.conf\fR(4)。解密后，用户的密钥将由本地密钥服务器进程 \fBkeyserv\fR(1M) 进行存储。向任何安全的 RPC 服务（如 \fBNFS\fR）发送请求时，都会使用所存储的该密钥。程序 \fBkeylogout\fR(1) 可用于删除由 \fBkeyserv\fR\fB\fR 存储的密钥。
.sp
.LP
如果 \fBkeylogin\fR 无法获取调用者的密钥，或给定的口令不正确，则它将失败。对于新用户或主机，可以使用 \fBnewkey\fR(1M) 来添加新密钥。
.sp
.LP
如果为系统配置了多个验证机制，则所配置的每个机制的密钥将由 \fBkeyserv\fR(1M) 进行解密和存储。
.SH 选项
.sp
.LP
支持以下选项： 
.sp
.ne 2
.mk
.na
\fB\fB-r\fR\fR
.ad
.RS 6n
.rt  
更新 \fB/etc/.rootkey\fR 文件。此文件中包含超级用户的未加密密钥。只有超级用户可以使用此选项。使用此选项时，以超级用户身份运行的进程可以发出已验证的请求，从而不要求管理员在系统启动时以超级用户身份显式运行 \fBkeylogin\fR。请参见 \fBkeyserv\fR(1M)。\fB-r\fR 选项应在以下情况下由管理员使用：公钥数据库中的主机条目发生更改，涉及到公钥数据库中存储的实际密钥对的 \fB/etc/.rootkey\fR 文件已过期。\fB/etc/.rootkey\fR 文件的权限允许系统中的超级用户读取或写入该文件，但不允许其他用户。
.sp
如果为系统配置了多个验证机制，则所配置的每个机制的密钥都将存储在 \fB/etc/.rootkey\fR 文件中。
.RE

.SH 文件
.sp
.ne 2
.mk
.na
\fB\fB/etc/.rootkey\fR\fR
.ad
.RS 17n
.rt  
超级用户的密钥
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性system/core-os
.TE

.SH 另请参见
.sp
.LP
\fBchkey\fR(1)、\fBkeylogout\fR(1)、\fBlogin\fR(1)、\fBkeyserv\fR(1M)、\fBnewkey\fR(1M)、\fBnsswitch.conf\fR(4)、\fBpublickey\fR(4)、\fBattributes\fR(5)
