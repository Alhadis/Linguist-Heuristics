'\" te
.\" Copyright (c) 2001, 2010, Oracle and/or its affiliates.All rights reserved.
.TH ssh-http-proxy-connect 1 "2010 年 12 月 21 日" "SunOS 5.11" "用户命令"
.SH 名称
ssh-http-proxy-connect \- 用于 HTTP 的安全 Shell 代理
.SH 用法概要
.LP
.nf
\fB/usr/lib/ssh/ssh-http-proxy-connect\fR [\fB-h\fR \fIhttp_proxy_host\fR] 
     [\fB-p\fR \fIhttp_proxy_port\fR] \fIconnect_host\fR \fIconnect_port\fR
.fi

.SH 描述
.sp
.LP
针对使用 HTTP CONNECT 的 \fBssh\fR(1) 的代理命令。通常用于网络外部连接只允许通过 Web 代理服务器建立的情况。
.SH 选项
.sp
.LP
支持以下选项：
.sp
.ne 2
.mk
.na
\fB\fB-h\fR \fIhttp_proxy_host\fR\fR
.ad
.RS 22n
.rt  
指定通过哪个 Web 代理服务器建立连接。如果设置了 \fBHTTPPROXY\fR 和 \fBhttp_proxy\fR 环境变量，则覆盖这两个变量。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR \fIhttp_proxy_port\fR\fR
.ad
.RS 22n
.rt  
指定 Web 代理服务器在哪个端口运行。如果未指定，则假定为端口 80。如果设置了 \fBHTTPPROXYPORT\fR 和 \fBhttp_proxy\fR 环境变量，则覆盖这两个变量。
.RE

.SH 操作数
.sp
.LP
支持下列操作数：
.sp
.ne 2
.mk
.na
\fB\fIhttp_proxy_host\fR\fR
.ad
.RS 19n
.rt  
代理的主机名或 IP 地址（IPv4 或 IPv6）。
.RE

.sp
.ne 2
.mk
.na
\fB\fIhttp_proxy_port\fR\fR
.ad
.RS 19n
.rt  
所要连接的 \fIhttp_proxy_host\fR 上的数字端口号。
.RE

.sp
.ne 2
.mk
.na
\fB\fIconnect_host\fR\fR
.ad
.RS 19n
.rt  
Web 代理服务器要将您的计算机连接到的远程主机的名称。
.RE

.sp
.ne 2
.mk
.na
\fB\fIconnect_port\fR\fR
.ad
.RS 19n
.rt  
Web 代理服务器要将您的计算机连接到的 \fIhttp_proxy_host\fR 上的数字端口号。
.RE

.SH 示例
.sp
.LP
代理连接命令的建议使用方法是在 \fBssh_config\fR(4) 中配置 \fBProxyCommand\fR（请参见示例 1 和示例 2）。示例 3 显示了在运行 \fBssh\fR(1) 时如何在命令行中指定代理命令。
.LP
\fB示例 1 \fR在环境中设置代理
.sp
.LP
以下示例显示了在环境中设置代理时，如何在 \fBssh_config\fR(4) 中使用 \fBssh-http-proxy-connect\fR：

.sp
.in +2
.nf
\fBHost playtime.foo.com
    ProxyCommand /usr/lib/ssh/ssh-http-proxy-connect \e
        playtime.foo.com 22\fR
.fi
.in -2
.sp

.LP
\fB示例 2 \fR覆盖代理环境变量
.sp
.LP
以下示例显示了如何在 \fBssh_config\fR(4) 中使用 \fBssh-http-proxy-connect\fR 来覆盖代理环境变量（如果未设置则进行设置）：

.sp
.in +2
.nf
\fBHost playtime.foo.com
    ProxyCommand /usr/lib/ssh/ssh-http-proxy-connect -h webcache \e
        -p 8080 playtime.foo.com 22\fR
.fi
.in -2
.sp

.LP
\fB示例 3 \fR使用命令行
.sp
.LP
以下示例显示了如何在 \fBssh\fR(1) 命令行中使用 \fBssh-http-proxy-connect\fR：

.sp
.in +2
.nf
example$ \fBssh -o ProxyCommand="/usr/lib/ssh/ssh-http-proxy-connect \e
    -h webcache -p 8080 playtime.foo.com 22" playtime.foo.com\fR
.fi
.in -2
.sp

.SH 环境变量
.sp
.ne 2
.mk
.na
\fB\fBHTTPPROXY\fR\fR
.ad
.RS 17n
.rt  
使用 \fIhttp_proxy_host\fR 操作数指定缺省代理主机。如果还设置了 \fBhttp_proxy\fR，则覆盖 http_proxy。
.RE

.sp
.ne 2
.mk
.na
\fB\fBHTTPPROXYPORT\fR\fR
.ad
.RS 17n
.rt  
使用 \fIhttp_proxy_port\fR 操作数指定缺省代理端口。如果未设置 \fBHTTPPROXY\fR，则忽略此项。
.RE

.sp
.ne 2
.mk
.na
\fB\fBhttp_proxy\fR\fR
.ad
.RS 17n
.rt  
用于指定代理主机和端口的 \fBURL\fR 格式。
.RE

.SH 退出状态
.sp
.LP
将返回以下退出值：
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 5n
.rt  
成功完成。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 5n
.rt  
出现错误。
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性network/ssh
_
接口稳定性Committed（已确定）
.TE

.SH 另请参见
.sp
.LP
\fBssh\fR(1)、\fBssh-socks5-proxy-connect\fR(1)、\fBssh_config\fR(4)、\fBattributes\fR(5) 
