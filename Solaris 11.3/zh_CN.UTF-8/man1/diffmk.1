'\" te
.\"  Copyright (c) 1996, Sun Microsystems, Inc. All Rights Reserved
.TH diffmk 1 "1992 年 9 月 14 日" "SunOS 5.11" "用户命令"
.SH 名称
diffmk \- 标记某个 troff 输入文件的版本差异
.SH 用法概要
.LP
.nf
\fBdiffmk\fR \fIoldfile\fR \fInewfile\fR \fImarkedfile\fR
.fi

.SH 描述
.sp
.LP
\fBdiffmk\fR 比较一个文件的两个版本，并创建第三个版本，该版本包括用于 \fBnroff\fR(1) 和 \fBtroff\fR(1) 的“更改标记”(\fB\&.mc\fR) 命令。\fIoldfile\fR 和 \fInewfile\fR 是该文件的旧版本和新版本。\fBdiffmk\fR 生成 \fImarkedfile\fR，其中包含来自 \fInewfile\fR 的文本以及在 \fInewfile\fR 不同于 \fIoldfile\fR 的情况下插入的 \fBtroff\fR(1)“更改标记”请求 (\fB\&.mc\fR)。\fImarkedfile\fR 格式化后，在每行的右边距处用 \fB|\fR 指示更改或插入的文本。用单个 \fB*\fR 指示删除了文本的位置。
.SH 用法
.sp
.LP
有关 \fBdiffmk\fR 遇到大于或等于 2 GB（2^31 字节）文件时行为的说明，请参见 \fBlargefile\fR(5)。
.SH 示例
.LP
\fB示例 1 \fR\fBdiffmk\fR 命令的一个示例。
.sp
.LP
\fBdiffmk\fR 还可以与恰当的 \fBtroff\fR 请求一起使用，用于生成包含更改标记的程序列表。在以下命令行中：

.sp
.in +2
.nf
\fBexample% diffmk old.c new.c marked.c ; nroff reqs marked.c | pr\fR
.fi
.in -2
.sp

.sp
.LP
文件 \fBreqs\fR 包含以下 \fBtroff\fR 请求：

.sp
.in +2
.nf
\&.pl \|1
\&.ll \|77
\&.nf
\&.eo
\&.nh
.fi
.in -2
.sp

.sp
.LP
该请求将分别消除分页符、调整行长度、设置 no-fill 模式、忽略转义字符以及禁用断字。

.sp
.LP
如果字符 \fB|\fR 和 \fB*\fR 不合适，则可通过 \fBsed\fR(1) 运行 \fImarkedfile\fR 对它们进行全局更改。

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性text/doctools
.TE

.SH 另请参见
.sp
.LP
\fBdiff\fR(1)、\fBnroff\fR(1)、\fBsed\fR(1)、\fBtroff\fR(1)、\fBattributes\fR(5)、\fBlargefile\fR(5) 
.SH 已知问题
.sp
.LP
出于美观的考虑，可能需要手动调整一些输出。仅涉及格式化请求的文件差异可能会产生不必要的输出，即，将 \fB\&.sp\fR 替换为 \fB\&.sp 2\fR 将在之前或之后的输出行上产生一个“更改标记”。
