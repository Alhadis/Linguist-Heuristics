'\" te
.\" Copyright (c) 2009, 2011, Oracle and/or its affiliates.All rights reserved.
.TH troff 1 "2011 年 8 月 17 日" "SunOS 5.11" "用户命令"
.SH 名称
troff \- 对文档进行排版或版式设计
.SH 用法概要
.LP
.nf
\fBtroff\fR [\fB-a\fR] [\fB-f\fR] [\fB-F\fR\fIdir\fR] [\fB-i\fR] [\fB-m\fR\fIname\fR] [\fB-n\fR\fIN\fR] [\fB-o\fR\fIlist\fR] [\fB-r\fR\fIaN\fR] 
     [\fB-s\fR\fIN\fR] [\fB-u\fR\fIN\fR] [\fB-z\fR] [\fIfilename\fR]...
.fi

.SH 描述
.sp
.LP
\fBtroff\fR 可对 \fIfilename\fR 中的文本进行版式设计，以便排版或激光打印。\fBtroff\fR 的输入应该由穿插着版式设计请求和宏的文本构成。如果 \fIfilename\fR 参数不存在，\fBtroff\fR 将读取标准输入。减号 (-) 作为 \fIfilename\fR 表示应该在输入文件列表中的相应位置读取标准输入。
.SH 选项
.sp
.LP
支持以下选项。它们可以按任意顺序出现，但是必须全部都在第一个 \fIfilename\fR 前面出现。
.sp
.ne 2
.mk
.na
\fB\fB-a\fR\fR
.ad
.RS 10n
.rt  
将经过版式设计的输出的 \fBASCII\fR 近似版本发送到标准输出。（注意：也可以使用一个很少使用的旧命令 \fB/usr/bin/ta\fR 在普通终端上输出 \fBASCII\fR 粗略版本。）
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR\fR
.ad
.RS 10n
.rt  
不要在输出的最后一页后打印尾部，否则会导致后处理程序放弃对设备的控制。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-F\fR\fIdir\fR\fR
.ad
.RS 10n
.rt  
从目录 \fIdir\fR 而非系统缺省目录中搜索字体宽度或终端表。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR\fR
.ad
.RS 10n
.rt  
在读取完所有输入文件后读取标准输入。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-m\fR\fIname\fR\fR
.ad
.RS 10n
.rt  
在输入 \fIfilename\fR 前面添加宏文件 \fB/usr/share/lib/tmac/\fR\fIname\fR。注意：对宏软件包的大多数引用都在名称中包含前导 \fIm\fR，例如 \fB/usr/share/lib/tmac/an\fR 中的 \fBman\fR(5) 宏。通过将 \fBTROFFMACS\fR 环境变量设置为特定路径可以更改宏目录。请确保在路径结尾添加结尾 " / "（斜杠）。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR\fIN\fR\fR
.ad
.RS 10n
.rt  
将最先生成的页面编号为 \fIN\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-o\fR\fIlist\fR\fR
.ad
.RS 10n
.rt  
只打印页号和页号范围逗号分隔 \fIlist\fR 中出现的页号对应的页面。页号范围 \fIN\fR\fB-\fR\fIM\fR 表示第 \fIN\fR 页到第 \fIM\fR 页；首页页号\fB-\fR\fIN\fR 表示开头一页到第 \fIN\fR 页；\fIN\fR\fB-\fR末页页号表示第 \fIN\fR 页到最后一页。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-q\fR\fR
.ad
.RS 10n
.rt  
\fBnroff\fR 中的静默模式，在 \fBtroff\fR 中忽略。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-r\fR\fIaN\fR\fR
.ad
.RS 10n
.rt  
将寄存器 \fIa\fR（仅包含一个字符的名称）设置为 \fIN\fR。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-s\fR\fIN\fR\fR
.ad
.RS 10n
.rt  
每 \fIN\fR 页停止一次照相排字机。在某些设备上，\fBtroff\fR 会生成尾部以便您更改暗盒；按排字机的开始按钮可以恢复。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-u\fR\fIN\fR\fR
.ad
.RS 10n
.rt  
将位置 3 处安装的字体的粗体系数设置为 \fIN\fR。如果缺少 \fIN\fR，则将粗体系数设置为 0。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-z\fR\fR
.ad
.RS 10n
.rt  
不输出经过版式设计的文本。仅输出使用 \fB\&.tm\fR 请求的诊断消息和消息输出。
.RE

.SH 操作数
.sp
.LP
支持下列操作数：
.sp
.ne 2
.mk
.na
\fB\fIfilename\fR\fR
.ad
.RS 12n
.rt  
包含要由 \fBtroff\fR 处理的文本的文件。
.RE

.SH 文件
.sp
.ne 2
.mk
.na
\fB\fB/tmp/trtmp\fR\fR
.ad
.RS 26n
.rt  
临时文件
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/share/lib/tmac/*\fR\fR
.ad
.RS 26n
.rt  
标准宏文件
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/lib/font/*\fR\fR
.ad
.RS 26n
.rt  
安装的 \fBtroff\fR 备用字体的字体宽度表
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/share/lib/nterm/*\fR\fR
.ad
.RS 26n
.rt  
\fBnroff\fR 的终端驱动表
.RE

.SH 属性
.sp
.LP
有关下列属性的说明，请参见 \fBattributes\fR(5)：
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性类型属性值
_
可用性text/doctools
.TE

.SH 另请参见
.sp
.LP
\fBchecknr\fR(1)、\fBcol\fR(1)、\fBeqn\fR(1)、\fBman\fR(1)、\fBnroff\fR(1)、\fBtbl\fR(1)、\fBattributes\fR(5)、\fBman\fR(5)、\fBme\fR(5)、\fBms\fR(5)
.SH 附注
.sp
.LP
\fBtroff\fR 不采用全部 8 位编码格式，因为它根据 7 位 \fBASCII\fR 设计而成。
.sp
.LP
以前的文档将数字寄存器 \fByr\fR 错误地描述为\fB当前年份的最后两位数\fR。\fByr\fR 实际上是指自 1900 年以来的年号。要正确获取当前年份直到 2099 年年号中的后两位数，可以在文档中注明下方所示的字符串寄存器 \fByy\fR 的定义，以后用于显示两位数的年份。请注意，其他任何包含一个或两个字符的寄存器名称均可替代 \fByy\fR。
.sp
.in +2
.nf
\&.\e" definition of new string register yy--last two digits of year
\&.\e" use yr (# of years since 1900) if it is < 100
\&.ie \en(yr<100 .ds yy \en(yr
\&.el \e{             .\e" else, subtract 100 from yr, store in ny
\&.nr ny \en(yr-100
\&.ie \en(ny>9 \e{     .\e" use ny if it is two digits
\&.ds yy \en(ny
\&.\e" remove temporary number register ny
\&.rr ny \e}
\&.el \e{.ds yy 0
\&.\e" if ny is one digit, append it to 0
\&.as yy \en(ny
\&.rr ny \e} \e}
.fi
.in -2

