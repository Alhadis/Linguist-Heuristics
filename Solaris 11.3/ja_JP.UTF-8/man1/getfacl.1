'\" te
.\" \&.Copyright (c) 2002, Sun Microsystems, Inc. All Rights Reserved
.TH getfacl 1 "1994 年 11 月 5 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
getfacl \- 任意のファイル情報の表示
.SH 形式
.LP
.nf
\fBgetfacl\fR [\fB-ad\fR] \fIfile\fR...
.fi

.SH 機能説明
.sp
.LP
通常ファイル、特殊ファイル、または名前付きパイプである引数ごとに、\fBgetfacl\fR ユーティリティーは、所有者、グループ、およびアクセス制御リスト (\fBACL\fR) を表示します。ディレクトリ引数ごとに、\fBgetfacl\fR は、所有者、グループ、および \fBACL\fR またはデフォルトの \fBACL\fR、あるいはその両方を表示します。デフォルトの \fBACL\fR が含まれるのはディレクトリだけです。
.sp
.LP
\fBgetfacl\fR ユーティリティーは、\fBACL\fR をサポートしていないファイルシステム上で実行できます。その場合は、基本のアクセス権ビットに基づいて \fBACL\fR を報告します。
.sp
.LP
オプションが指定されていない場合、\fBgetfacl\fR は、ファイル名、ファイル所有者、ファイルグループ所有者、および \fBACL\fR とデフォルトの \fBACL\fR (存在する場合) の両方を表示します。
.SH オプション
.sp
.LP
サポートしているオプションは、次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB-a\fR\fR
.ad
.RS 6n
.rt  
ファイル名、ファイル所有者、ファイルグループ所有者、およびファイルの \fBACL\fR を表示します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-d\fR\fR
.ad
.RS 6n
.rt  
ファイル名、ファイル所有者、ファイルグループ所有者、およびファイルのデフォルトの \fBACL\fR (存在する場合) を表示します。
.RE

.SH オペランド
.sp
.LP
次のオペランドがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fIfile\fR\fR
.ad
.RS 8n
.rt  
通常ファイル、特殊ファイル、または名前付きパイプのパス名。
.RE

.SH 出力
.sp
.LP
\fBACL\fR の出力の形式は次のとおりです。
.sp
.in +2
.nf
# file: filename	
# owner: uid	
# group: gid	
user::perm	
user:uid:perm	
group::perm	
group:gid:perm	
mask:perm	
other:perm	
default:user::perm	
default:user:uid:perm	
default:group::perm	
default:group:gid:perm	
default:mask:perm	
default:other:perm
.fi
.in -2
.sp

.sp
.LP
コマンド行で複数のファイルが指定される場合、各ファイルの \fBACL\fR は空行で区切られます。
.sp
.LP
\fBACL\fR エントリは、アクセスチェックが実行されるときに評価された順序で表示されます。ディレクトリ上に存在する可能性のあるデフォルトの \fBACL\fR エントリは、アクセスチェックに影響を与えません。
.sp
.LP
最初の 3 行には、ファイル名、ファイル所有者、およびファイルグループ所有者が表示されます。\fB-d\fR オプションのみが指定され、ファイルにデフォルトの \fBACL\fR が存在しない場合は、これらの 3 行のみが表示されます。
.sp
.LP
ユーザー \fBID\fR のない \fBuser\fR エントリは、ファイル所有者に付与されたアクセス権を示します。1 つ以上の追加のユーザーエントリは、指定されたユーザーに付与されたアクセス権を示します。
.sp
.LP
グループ \fBID\fR のない \fBgroup\fR エントリは、ファイルグループ所有者に付与されたアクセス権を示します。1 つ以上の追加のグループエントリは、指定されたグループに付与されたアクセス権を示します。
.sp
.LP
\fBmask\fR エントリは、\fBACL\fR マスクのアクセス権を示します。これらは、ファイル所有者を除く任意のユーザーエントリ、およびファイルグループ所有者を含む任意のグループエントリに許可される最大のアクセス権です。これらのアクセス権によって、ほかのエントリで指定されたアクセス権が制限されます。
.sp
.LP
\fBother\fR エントリは、ほかのユーザーに付与されたアクセス権を示します。
.sp
.LP
\fBdefault\fR エントリは、ディレクトリに対してのみ存在できます。これらのエントリは、ディレクトリ内で作成されるファイルに追加されたデフォルトのエントリを示します。
.sp
.LP
\fBuid\fR は、システムパスワードファイル \fB/etc/passwd\fR 内に \fBuid\fR のエントリが存在しない場合は、ログイン名またはユーザー \fBID\fR です。\fBgid\fR は、システムグループファイル \fB/etc/group\fR 内に \fBgid\fR のエントリが存在しない場合は、グループ名またはグループ \fBID\fR です。\fBperm\fR は、\fBr\fR (読み取り)、\fBw\fR (書き込み)、\fBx\fR (実行/検索) という個別の随意アクセス権を表す英字またはプレースホルダー文字 \fB-\fR で構成された 3 文字から成る文字列です。\fBperm\fR は、\fBrwx\fR の順序で表示されます。\fBACL\fR エントリによってアクセス権が付与されていない場合は、プレースホルダー文字が表示されます。
.sp
.LP
\fBchmod\fR(1) コマンドを使用して \fBACL\fR エントリを含むファイルに対するファイルグループ所有者のアクセス権を変更した場合は、ファイルグループ所有者のアクセス権と \fBACL\fR マスクの両方が新しいアクセス権に変更されます。新しい \fBACL\fR マスクのアクセス権によって、そのファイル上に \fBACL\fR エントリを持つ追加のユーザーやグループの実効アクセス権が変更される場合があることに注意してください。 
.sp
.LP
\fBACL\fR マスクによって \fBACL\fR エントリが制限されることを示すために、\fBgetfacl\fR は、そのエントリのあとに、追加のタブ文字、ポンド記号 (\fB#\fR)、および付与される実際のアクセス権を表示します。
.SH 使用例
.LP
\fB例 1 \fRファイル情報の表示
.sp
.LP
\fBACL\fR の 6 つのエントリの長さを持つファイル \fBfoo\fR の場合、次のコマンド

.sp
.in +2
.nf
host% \fBgetfacl foo\fR
.fi
.in -2
.sp

.sp
.LP
によって次の内容が出力されます:

.sp
.in +2
.nf
# file: foo 
# owner: shea 
# group: staff 
user::rwx 
user:spy:\|\(mi\|\(mi\|\(mi 
user:mookie:r\|\(mi\|\(mi 
group::r\|\(mi\|\(mi 
mask::rw\|\(mi 
other::\|\(mi\|\(mi\|\(mi
.fi
.in -2
.sp

.LP
\fB例 2 \fRchmod コマンドのあとの情報の表示
.sp
.LP
上の例を続けると、\fBchmod\fR \fB700 foo\fR が発行されたあと、次のようになります。

.sp
.in +2
.nf
host% \fBgetfacl foo\fR
.fi
.in -2
.sp

.sp
.LP
によって次の内容が出力されます:

.sp
.in +2
.nf
# file: foo
# owner: shea
# group: staff
user::rwx
user:spy:\|\(mi\|\(mi\|\(mi
user:mookie:r\|\(mi\|\(mi     #effective:\|\(mi\|\(mi\|\(mi
group::\|\(mi\|\(mi\|\(mi          
mask::\|\(mi\|\(mi\|\(mi
other::\|\(mi\|\(mi\|\(mi
.fi
.in -2
.sp

.LP
\fB例 3 \fRACL にデフォルトのエントリが含まれている場合の情報の表示
.sp
.LP
デフォルトのエントリが含まれた \fBACL\fR を含むディレクトリ \fBdoo\fR の場合、次のコマンド

.sp
.in +2
.nf
host% \fBgetfacl -d doo\fR
.fi
.in -2
.sp

.sp
.LP
によって次の内容が出力されます:

.sp
.in +2
.nf
# file: doo
# owner: shea
# group: staff
default:user::rwx
default:user:spy:\|\(mi\|\(mi\|\(mi
default:user:mookie:r\|\(mi\|\(mi
default:group::r\|\(mi\|\(mi
default:mask::\|\(mi\|\(mi\|\(mi
default:other::\|\(mi\|\(mi\|\(mi
.fi
.in -2
.sp

.SH ファイル
.sp
.ne 2
.mk
.na
\fB\fB/etc/passwd\fR\fR
.ad
.RS 15n
.rt  
システムパスワードファイル
.RE

.sp
.ne 2
.mk
.na
\fB\fB/etc/group\fR\fR
.ad
.RS 15n
.rt  
グループファイル
.RE

.SH 属性
.sp
.LP
属性についての詳細は、マニュアルページの \fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
_
インタフェースの安定性確実
.TE

.SH 関連項目
.sp
.LP
\fBchmod\fR(1), \fBls\fR(1), \fBsetfacl\fR(1), \fBacl\fR(2), \fBaclsort\fR(3SEC), \fBgroup\fR(4), \fBpasswd\fR(4), \fBattributes\fR(5)
.SH 注意事項
.sp
.LP
\fBgetfacl\fR からの出力は、\fBsetfacl\fR \fB-f\fR コマンドへの入力のための正しい形式をしています。\fBgetfacl\fR からの出力がファイルにリダイレクトされた場合は、そのファイルを \fBsetfacl\fR への入力として使用できます。このようにして、ユーザーは、あるファイルの \fBACL\fR を別のファイルに容易に割り当てることができます。
