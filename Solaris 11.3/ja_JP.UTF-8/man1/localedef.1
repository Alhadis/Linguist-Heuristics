'\" te
.\" Copyright (c) 1992, X/Open Company Limited All Rights Reserved
.\" Portions Copyright (c) 2003, Sun Microsystems, Inc. All Rights Reserved
.\"  Sun Microsystems, Inc. gratefully acknowledges The Open Group for permission to reproduce portions of its copyrighted documentation.Original documentation from The Open Group can be obtained online at http://www.opengroup.org/bookstore/.
.\" The Institute of Electrical and Electronics Engineers and The Open Group, have given us permission to reprint portions of their documentation. In the following statement, the phrase "this text" refers to portions of the system documentation. Portions of this text are reprinted and reproduced in electronic form in the Sun OS Reference Manual, from IEEE Std 1003.1, 2004 Edition, Standard for Information Technology -- Portable Operating System Interface (POSIX), The Open Group Base Specifications Issue 6, Copyright (C) 2001-2004 by the Institute of Electrical and Electronics Engineers, Inc and The Open Group. In the event of any discrepancy between these versions and the original IEEE and The Open Group Standard, the original IEEE and The Open Group Standard is the referee document. The original Standard can be obtained online at http://www.opengroup.org/unix/online.html. This notice shall appear on any product containing this material.
.TH localedef 1 "2004 年 10 月 11 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
localedef \- ロケール環境の定義
.SH 形式
.LP
.nf
\fBlocaledef\fR [\fB-c\fR] [\fB-C\fR \fIcompiler_options\fR] [\fB-f\fR \fIcharmap\fR] 
     [\fB-i\fR \fIsourcefile\fR] [\fB-L\fR \fIlinker_options\fR] [\fB-m\fR \fImodel\fR] 
     [\fB-u\fR \fIcode_set_name\fR] [\fB-W\fR cc, \fIarg\fR] [\fB-x\fR \fIextensions_file\fR] \fIlocalename\fR
.fi

.SH 機能説明
.sp
.LP
\fBlocaledef\fR ユーティリティーは、動作がロケール環境変数の設定によって決定される関数およびユーティリティーが使用できる形式に、ロケールカテゴリのソース定義を変換します。\fBenviron\fR(5) を参照してください。
.sp
.LP
このユーティリティーは、\fB-i\fR オプションで指定されたファイル (指定された場合) または標準入力から、同じロケールに属する 1 つ以上のロケールカテゴリのソース定義を読み取ります。
.sp
.LP
各カテゴリソース定義は、対応する環境変数名によって識別され、\fBEND\fR \fIcategory-name\fR 文で終了します。次のカテゴリがサポートされています。
.sp
.ne 2
.mk
.na
\fB\fBLC_CTYPE\fR\fR
.ad
.RS 15n
.rt  
文字の分類および大文字/小文字の変換を定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLC_COLLATE\fR\fR
.ad
.RS 15n
.rt  
照合規則を定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLC_MONETARY\fR\fR
.ad
.RS 15n
.rt  
通貨情報の書式に使用される書式および記号を定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLC_NUMERIC\fR\fR
.ad
.RS 15n
.rt  
通貨以外の数値編集での小数点、グループ化、およびグループ化記号を定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLC_TIME\fR\fR
.ad
.RS 15n
.rt  
日付と時間の情報の書式および内容を定義します。
.RE

.sp
.ne 2
.mk
.na
\fB\fBLC_MESSAGES\fR\fR
.ad
.RS 15n
.rt  
肯定応答および否定応答の形式および値を定義します。
.RE

.SH オプション
.sp
.LP
サポートしているオプションは、次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB-c\fR\fR
.ad
.RS 23n
.rt  
警告メッセージが発行されていても、永続的な出力を作成します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-C\fR \fIcompiler_options\fR\fR
.ad
.RS 23n
.rt  
\fIcompiler_options\fR を C コンパイラ (\fBcc\fR) に渡します。複数のオプションを指定する場合は、オプションを引用符 (\fB" "\fR) で囲む必要があります。
.sp
これは古いオプションです。代わりに、\fB-W\fR \fBcc\fR,\fIarg\fR オプションを使用してください。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-f\fR \fIcharmap\fR\fR
.ad
.RS 23n
.rt  
実際の文字エンコーディングへの文字シンボルと照合要素シンボルのマッピングを含むファイルのパス名を指定します。シンボリック名 (\fBcollating-symbol\fR キーワードで定義されている照合シンボル以外) を使用している場合は、このオプションを指定する必要があります。\fB-f\fR オプションがない場合は、デフォルトの文字マッピングが使用されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-i\fR \fIsourcefile\fR\fR
.ad
.RS 23n
.rt  
ソース定義を含むファイルのパス名。このオプションがない場合、ソース定義は標準入力から読み取られます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-L\fR \fIlinker_options\fR\fR
.ad
.RS 23n
.rt  
C ソースファイル名に続いて、\fIlinker_options\fR を C コンパイラ (\fBcc\fR) に渡します。複数のオプションを指定する場合は、オプションを引用符 (\fB" "\fR) で囲む必要があります。
.sp
これは古いオプションです。代わりに、\fB-W\fR \fBcc\fR,\fIarg\fR オプションを使用してください。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-m\fR \fImodel\fR\fR
.ad
.RS 23n
.rt  
\fBlocaledef\fR で 64 ビットと 32 ビットのどちらのロケールオブジェクトを生成するかを指定します。
.sp
32 ビットのロケールオブジェクトを生成する場合は、\fImodel\fR に \fBilp32\fR を指定します。64 ビットのロケールオブジェクトを生成する場合は、\fBlp64\fR を指定します。\fB-m\fR オプションを指定しない場合、\fBlocaledef\fR は 32 ビットのロケールオブジェクトを生成します。\fB-c\fR、\fB-f\fR、および \fB-i\fR オプション以外のオプションが指定されておらず、\fBlocaledef\fR が実行されているシステムで 64 ビット環境がサポートされる場合、\fBlocaledef\fR は 64 ビットのロケールオブジェクトを追加で生成します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-u\fR \fIcode_set_name\fR\fR
.ad
.RS 23n
.rt  
文字シンボルと照合要素シンボルのターゲットマッピングとして使用されるコードセットの名前を指定します。このときのエンコーディング値は、ISO/IEC 10646-1: 2000 標準の位置定数値によって定義されます。「注意事項」を参照してください。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-W\fR \fBcc\fR,\fIarg\fR\fR
.ad
.RS 23n
.rt  
\fIarg\fR オプションを C コンパイラに渡します。各引数は前の引数とコンマ 1 つのみで区切る必要があります。コンマは、直前にバックスラッシュ文字を付けてエスケープすると、引数の一部にすることができます。バックスラッシュは生成される引数から削除されます。
.sp
\fB-C\fR および \fB-L\fR オプションの代わりにこのオプションを使用してください。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-x\fR \fIextensions_file\fR\fR
.ad
.RS 23n
.rt  
さまざまな \fBlocaledef\fR オプションがリストされている拡張ファイルの名前を指定します。\fBlocale\fR(5) を参照してください。
.RE

.SH オペランド
.sp
.LP
次のオペランドを指定できます。
.sp
.ne 2
.mk
.na
\fB\fIlocalename\fR\fR
.ad
.RS 14n
.rt  
ロケールを識別します。名前に 1 つ以上のスラッシュ文字が含まれている場合、\fIlocalename\fR は作成されたロケール定義が格納される場所のパス名として解釈されます。この機能は適切な権限を持つユーザーに制限できます。(1 回の実行では複数のカテゴリを処理できますが、1 つの \fIlocalename\fR を指定すると、処理できるのは同じロケールに属しているカテゴリのみになります。)
.RE

.SH 出力
.sp
.LP
\fBlocaledef\fR は、ロケールのデータを表す一時 C ソースファイルを作成します。その後、\fBlocaledef\fR は C コンパイラを呼び出して、この C ソースファイルを共有オブジェクトにコンパイルします。 
.sp
.LP
\fB-m\fR \fBilp32\fR オプションを指定した場合、\fBlocaledef\fR は 32 ビットのオブジェクトを生成する C コンパイラを呼び出して、32 ビットのロケールオブジェクトを生成します。\fB-m\fR \fBlp64\fR オプションを指定した場合、\fBlocaledef\fR は 64 ビットのオブジェクトを生成する C コンパイラを呼び出して、64 ビットのロケールオブジェクトを生成します。
.sp
.LP
\fB-m\fR オプションを指定しない場合、\fBlocaledef\fR は 32 ビットのオブジェクトを生成する C コンパイラを呼び出して、32 ビットのロケールオブジェクトを生成します。\fB-c\fR、\fB-f\fR、および \fB-i\fR オプション以外のオプションが指定されておらず、\fBlocaledef\fR が実行されているシステムで 64 ビット環境がサポートされる場合、\fBlocaledef\fR は 64 ビットのオブジェクトを生成する C コンパイラを追加で呼び出して、64 ビットのロケールオブジェクトを生成します。
.sp
.LP
\fB-W\fR、\fB-C\fR、または \fB-L\fR オプションを使用して C コンパイラへのオプションが明示的に指定されていない場合、\fBlocaledef\fR は適切な C コンパイラオプションを使用して C コンパイラを呼び出し、ロケールオブジェクトまたはオブジェクトを生成します。
.sp
.LP
\fB-m\fR \fBilp32\fR オプションを指定した場合、\fBlocaledef\fR は次の名前の 32 ビットのロケールオブジェクトを生成します。
.sp
.LP
\fIlocalename\fR.so.\fIversion_number\fR
.sp
.LP
\fB-m\fR \fBlp64\fR オプションを指定した場合、\fBlocaledef\fR は次の名前の 64 ビットのロケールオブジェクトを生成します。
.sp
.LP
\fIlocalename\fR.so.\fIversion_number\fR
.sp
.LP
\fB-m\fR オプションを指定しない場合、\fBlocaledef\fR は次の名前の 32 ビットのロケールオブジェクトを生成します。
.sp
.LP
\fIlocalename\fR.so.\fIversion_number\fR
.sp
.LP
および、該当する場合、次の名前の 64 ビットのロケールオブジェクトを生成します。 
.sp
.LP
\fI64-bit_architecture_name\fR/\fIlocalename\fR.so.\fIversion_number\fR
.sp
.LP
32 ビット環境の共有オブジェクトは、次の場所に移動する必要があります。
.sp
.LP
\fB/usr/lib/locale/\fR\fIlocalename\fR\fB/\fR\fIlocalename\fR\fB\&.so.\fR\fIversion_number\fR
.sp
.LP
SPARC の 64 ビット環境の共有オブジェクトは、次の場所に移動する必要があります。
.sp
.LP
\fB/usr/lib/locale/\fR\fIlocalename\fR\fB/sparcv9/\fR\fIlocalename\fR\fB\&.so.\fR\fIversion_number\fR
.sp
.LP
AMD64 の 64 ビット環境の共有オブジェクトは、次の場所に移動する必要があります。
.sp
.LP
\fB/usr/lib/locale/\fI<localename>\fR/amd64/\fI<localename>\fR\&.so.\fI<version_number>\fR\fR
.sp
.LP
\fBlocaledef\fR は情報のためのみに使用される \fIlocalename\fR という名前のテキストファイルも生成します。
.SH 環境
.sp
.LP
\fBlocaledef\fR の実行に影響する環境変数 (\fBLANG\fR、\fBLC_ALL\fR、\fBLC_COLLATE\fR、\fBLC_CTYPE\fR、\fBLC_MESSAGES\fR、および \fBNLSPATH\fR) の定義については、\fBenviron\fR(5) を参照してください。 
.SH 終了ステータス
.sp
.LP
次の終了ステータスが返されます。
.sp
.ne 2
.mk
.na
\fB\fB0\fR\fR
.ad
.RS 6n
.rt  
エラーは発生せず、ロケールは正常に作成されました。
.RE

.sp
.ne 2
.mk
.na
\fB\fB1\fR\fR
.ad
.RS 6n
.rt  
警告が発生しましたが、ロケールは正常に作成されました。
.RE

.sp
.ne 2
.mk
.na
\fB\fB2\fR\fR
.ad
.RS 6n
.rt  
ロケールの指定が実装の制限を超えているか、使用されたコード化文字セットが実装でサポートされておらず、ロケールは作成されませんでした。
.RE

.sp
.ne 2
.mk
.na
\fB\fB3\fR\fR
.ad
.RS 6n
.rt  
新しいロケールを作成する機能は、実装でサポートされていません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB>3\fR\fR
.ad
.RS 6n
.rt  
警告またはエラーが発生し、出力は作成されませんでした。
.RE

.sp
.LP
エラーが検出された場合、永続的な出力は作成されません。
.SH ファイル
.sp
.ne 2
.mk
.na
\fB\fB/usr/lib/localedef/extensions/generic_eucbc.x\fR\fR
.ad
.sp .6
.RS 4n
システムで使用される汎用の \fBEUC\fR ロケールが記述されています。このファイルはデフォルトで使用されます。
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/lib/localedef/extensions/single_byte.x\fR\fR
.ad
.sp .6
.RS 4n
システムで使用される汎用の単一バイトファイルが記述されています。
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/lib/locale/\fIlocalename\fR/\fIlocalename\fR.so.\fIversion_number\fR\fR\fR
.ad
.sp .6
.RS 4n
32 ビット環境の共有オブジェクト。
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/lib/locale/\fIlocalename\fR/sparcv9/\fIlocalename\fR.so.\fIversion_number\fR\fR\fR
.ad
.sp .6
.RS 4n
SPARC の 64 ビット環境の共有オブジェクト。
.RE

.sp
.ne 2
.mk
.na
\fB\fB/usr/lib/locale/\fI<localename>\fR/amd64/\fI<localename>\fR\&.so.\fI<version_number>\fR\fR\fR
.ad
.sp .6
.RS 4n
AMD64 の 64 ビット環境の共有オブジェクト。
.RE

.SH 属性
.sp
.LP
属性についての詳細は、マニュアルページの \fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件system/core-os
_
インタフェースの安定性確実
_
標準T{
\fBstandards\fR(5) を参照してください。
T}
.TE

.SH 関連項目
.sp
.LP
\fBlocale\fR(1)、\fBiconv_open\fR(3C)、\fBnl_langinfo\fR(3C)、\fBstrftime\fR(3C)、\fBattributes\fR(5)、\fBcharmap\fR(5)、\fBenviron\fR(5)、\fBextensions\fR(5)、\fBlocale\fR(5)、\fBstandards\fR(5)
.SH 警告
.sp
.LP
警告が発生した場合、\fB-c\fR オプションが指定されていると、永続的な出力が作成されます。次の状態では、警告メッセージが発行されます。
.RS +4
.TP
.ie t \(bu
.el o
\fIcharmap\fR ファイルで見つからないシンボリック名が \fBLC_CTYPE\fR または \fBLC_COLLATE\fR カテゴリの記述に使用されている場合 (ほかのカテゴリの場合、これはエラーの状態です)。
.RE
.RS +4
.TP
.ie t \(bu
.el o
実装でサポートされないオプションのキーワードがソースにある場合。
.RE
.SH 注意事項
.sp
.LP
\fB-u\fR オプションが使用されている場合、\fIcode_set_name\fR オプション引数は ISO/IEC 10646-1: 2000 標準の位置定数値を変換するコードセットの名前として解釈されます。ISO/IEC 10646-1: 2000 標準の位置定数値およびその他の形式 (10 進数、16 進数、または 8 進数) の両方が、charmap ファイル内のエンコーディング値として有効です。コードセットには、システムの \fBiconv_open\fR(3C) 関数でサポートされるコードセットを指定できます。
.sp
.LP
\fIcode_set_name\fR、\fImb_cur_max\fR、または \fImb_cur_min\fR の charmap の指定と \fB-u\fR オプションの引数の \fIcode_set_name\fR によって表されるコードセットの対応する値で競合が発生した場合、\fBlocaledef\fR ユーティリティーは失敗してエラーになります。
.sp
.LP
ポータブル文字セットの文字のシンボリック名に指定されている charmap エンコーディング値と US-ASCII で定義されている文字エンコーディング値で競合が発生した場合、結果は不確定です。
.sp
.LP
charmap の非印字文字に \fB-1\fR ではない幅が指定された場合は、\fBlocaledef\fR によって警告が生成されます。
