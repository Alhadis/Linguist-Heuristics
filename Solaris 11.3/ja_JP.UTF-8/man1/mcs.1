'\" te
.\" Copyright 1989 AT&T
.\" Copyright (c) 2007, 2012, Oracle and/or its affiliates.All rights reserved.
.TH mcs 1 "2012 年 1 月 23 日" "SunOS 5.11" "ユーザーコマンド"
.SH 名前
mcs \- オブジェクトファイルのコメントセクションの操作
.SH 形式
.LP
.nf
\fBmcs\fR [\fB-cdHpVz\fR] [\fB-A\fR \fIfile\fR] [\fB-a\fR \fIstring\fR][\fB-n\fR \fIname\fR] \fIfile\fR...
.fi

.SH 機能説明
.sp
.LP
\fBmcs\fR コマンドは、\fBELF\fR オブジェクトファイルのコメントセクションのコメントを、表示、圧縮、または追加するために使用します。このコマンドは、コメントセクションまたは非コメントセクションを削除したり、\fBSHT_PROGBITS\fR セクションをゼロ化したりするためにも使用できます。特に指定されない場合、\fB\&.comment\fR という名前のセクションが操作されます。\fBmcs\fR は、セグメントに含まれているセクションを変更または削除することができません。
.sp
.LP
入力ファイルがアーカイブの場合 (\fBar.h\fR(3HEAD) を参照)、アーカイブは個々のファイルのセットとして扱われます。たとえば、\fB-a\fR オプションが指定された場合、文字列はアーカイブ内の各オブジェクトファイルのコメントセクションに追加されます。アーカイブメンバーがオブジェクトファイルでない場合、アーカイブメンバーは変更されません。
.sp
.LP
\fBmcs\fR では、以下に記載する 1 つ以上のオプションを指定する必要があります。各オプションは、指定された順序で各ファイルに適用されます。
.sp
.LP
追加操作について、指定された名前を持つセクションがオブジェクトにまだ含まれていない場合、\fBmcs\fR では追加操作を実行する前に、その名前を使用して新しい空のセクションが作成されます。
.SH オプション
.sp
.LP
サポートしているオプションは、次のとおりです。
.sp
.ne 2
.mk
.na
\fB\fB-A\fR \fIfile\fR\fR
.ad
.RS 13n
.rt  
オブジェクトファイルのコメントセクションに、指定されたファイルの内容を追加します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-a\fR \fIstring\fR\fR
.ad
.RS 13n
.rt  
オブジェクトファイルのコメントセクションに \fIstring\fR を追加します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-c\fR\fR
.ad
.RS 13n
.rt  
オブジェクトファイルのコメントセクションの内容を圧縮します。重複するすべてのエントリが削除されます。残りのエントリの順序には影響ありません。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-d\fR\fR
.ad
.RS 13n
.rt  
オブジェクトファイルから指定されたセクションを削除します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-H\fR \fR
.ad
.RS 13n
.rt  
\fB-p\fR が使用される場合に、ファイルの名前の出力と、各ファイルの出力の間に通常挿入される空白行を抑制します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-n\fR \fIname\fR\fR
.ad
.RS 13n
.rt  
\fB\&.comment\fR 以外の場合に、アクセスするセクションの名前を指定します。デフォルトでは、\fBmcs\fR は \fB\&.comment\fR という名前のセクションを処理します。\fBmcs\fR では複数の \fB-n\fR オプションを使用して、複数のセクションを指定できます。\fBmcs\fR では常に、コメントセクションの形式を持つと仮定してセクションを操作します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-p\fR\fR
.ad
.RS 13n
.rt  
コメントセクションの内容を標準出力に出力します。\fB-H\fR と一緒に使用しない場合、出力される各セクションには抽出元のファイルの名前が接頭辞として付けられ、アーカイブファイルの場合は \fIfile\fR\fB[\fR\fImember_name\fR\fB ]:\fR、その他のファイルの場合は \fIfile\fR\fB:\fR という形式になります。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-V\fR \fR
.ad
.RS 13n
.rt  
\fBmcs\fR のバージョンについての情報を提供するメッセージを標準エラーに出力します。
.RE

.sp
.ne 2
.mk
.na
\fB\fB-z\fR\fR
.ad
.RS 13n
.rt  
すべての \fBSHT_PROGBITS\fR セクションの元の属性を保持しながら、セクションをゼロで置き換えます。
.RE

.SH 使用例
.LP
\fB例 1 \fRファイルのコメントセクションの出力
.sp
.LP
次に、エントリの例を挙げます。

.sp
.in +2
.nf
example% \fBmcs -p elf.file\fR
.fi
.in -2
.sp

.sp
.LP
このエントリは、ファイル \fBelf.file\fR のコメントセクションを出力します。

.LP
\fB例 2 \fRコメントセクションへの文字列の追加
.sp
.LP
次に、エントリの例を挙げます。

.sp
.in +2
.nf
example% \fBmcs -a  xyz elf.file\fR
.fi
.in -2
.sp

.sp
.LP
このエントリは、文字列 \fBxyz\fR を \fBelf.file\fR のコメントセクションに追加します。

.LP
\fB例 3 \fR指定された割り当て不可のセクションの削除
.sp
.LP
\fBmcs\fR は主にコメントセクションとともに使用されますが、割り当て不可のセクションを操作できます。割り当て不可のセクションについて事前定義された選択内容を削除する \fBstrip\fR コマンドと比較すると、\fBmcs\fR は、指定された特定のセクションを削除するために使用できます。次に、エントリの例を挙げます。

.sp
.in +2
.nf
example% \fBmcs -d -n .annotate elf.file\fR
.fi
.in -2
.sp

.sp
.LP
このエントリは、\fB\&.annotate\fR という名前のセクションを、ファイル \fBelf.file\fR から削除します。

.SH ファイル
.sp
.ne 2
.mk
.na
\fB\fB/tmp/mcs*\fR\fR
.ad
.RS 13n
.rt  
一時ファイル
.RE

.SH 属性
.sp
.LP
属性についての詳細は、マニュアルページの \fBattributes\fR(5) を参照してください。
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i) 
lw(2.75i) |lw(2.75i) 
.
属性タイプ属性値
_
使用条件developer/base-developer-utilities
_
インタフェースの安定性確実
.TE

.SH 関連項目
.sp
.LP
\fBar\fR(1), \fBas\fR(1), \fBld\fR(1), \fBstrip\fR(1), \fBar.h\fR(3HEAD), \fBelf\fR(3ELF), \fBa.out\fR(4), \fBattributes\fR(5)
.SH 注意事項
.sp
.LP
\fBmcs\fR は \fB-d\fR オプションを使用してセクションを削除するとき、タイプ \fBSHT_REL\fR のセクションと、\fBsh_info\fR セクションヘッダーフィールドによって指定されたターゲットセクションを、一緒にバインドしようとします。1 つが削除される場合、\fBmcs\fR はペアの片方を削除しようとします。
.sp
.LP
\fB-z\fR オプションは、オブジェクトの元の \fBELF\fR 構造を維持しながら、\fBSHT_PROGBITS\fR セクションの内容を削除します。\fB-z\fR オプションを使用する必要性は限定されています。ただし、このオプションは、\fBSHT_PROGBITS\fR セクションの内容に関連しない場合にオブジェクトファイルの配布に使用できます。
